{"id":"dashtext-05u","title":"Implement push/pull by updated_at","description":"**Strategic Context:** Implement push/pull sync logic based on chosen sync design from Epic 5.1 and implementation approach from Epic 5.2.\n\n**Reference Material:** See Phase 5 Sync Strategy Gist - Sections 2.1-2.3 (Design A/B/C sync mechanisms)\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd#2-design-options\n\n**Why this matters:** Push/pull behavior differs significantly between sync designs. Implementation must reflect the chosen architectural approach.\n\n**Implementation Options (based on Epic 5.1 design choice):**\n- **Design A (LWW):** Simple timestamp-based push/pull with last-write-wins resolution\n- **Design B (Conditional):** Revision-based push/pull with conflict detection and handling\n- **Design C (CRDT):** Oplog-based push/pull with automatic merge reconciliation\n\n**Dependencies:** Requires sync design commitment (Epic 5.1) and implementation approach decision (Epic 5.2).\n\n**Success Criteria:** Push/pull sync operations that implement the chosen design's conflict resolution strategy reliably.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:44:04.673031763-06:00","updated_at":"2025-12-15T22:44:30.653400769-06:00","closed_at":"2025-12-15T22:44:30.653400769-06:00","dependencies":[{"issue_id":"dashtext-05u","depends_on_id":"dashtext-9tg","type":"parent-child","created_at":"2025-12-15T09:44:58.190587926-06:00","created_by":"daemon"}]}
{"id":"dashtext-0k7","title":"Epic M1 — Central DO Sync","description":"**Strategic Context:** Implement the central Cloudflare Durable Object sync service with SQLite storage and the /sync protocol endpoint.\n\n**Reference:** history/sync-implementation-spec.md Sections 6-8 (Server Schema, Protocol, Algorithm)\n\n**Why this matters:** The DO provides single-threaded write serialization and per-user isolation without distributed coordination complexity. Rev-based conflict detection happens here.\n\n**Components:**\n- Cloudflare Worker with JWT auth middleware (provider TBD)\n- Durable Object with SQLite schema (notes, changes, meta, note_versions)\n- POST /sync endpoint implementing protocol spec\n- Client sync agent background loop (push/pull)\n\n**Dependencies:** Requires M0 (client-side data layer with outbox)\n\n**Success Criteria:**\n- DO accepts sync requests and applies changes with rev checking\n- Conflicts detected and returned to client\n- Client sync loop pushes outbox and pulls updates\n- End-to-end sync works between two clients","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T22:44:51.088181063-06:00","updated_at":"2025-12-15T22:44:51.088181063-06:00","dependencies":[{"issue_id":"dashtext-0k7","depends_on_id":"dashtext-9tg","type":"blocks","created_at":"2025-12-15T22:45:08.233484817-06:00","created_by":"daemon"},{"issue_id":"dashtext-0k7","depends_on_id":"dashtext-3oy","type":"blocks","created_at":"2025-12-15T22:45:09.956791838-06:00","created_by":"daemon"}]}
{"id":"dashtext-0sh","title":"Implement token-based authentication for API","description":"Implement token-based authentication system to secure API access without OAuth complexity. Generate API tokens that can be revoked, use Bearer token authentication headers, and store tokens securely in database. This enables external services to authenticate without user credentials. Non-goal: don't build OAuth provider or user management. Acceptance criteria: tokens can be generated/revoked, Bearer token auth works, tokens stored securely, invalid tokens rejected.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:24:11.472495115-06:00","updated_at":"2025-12-15T09:24:11.472495115-06:00","dependencies":[{"issue_id":"dashtext-0sh","depends_on_id":"dashtext-5mj","type":"parent-child","created_at":"2025-12-15T09:24:38.353583915-06:00","created_by":"daemon"}]}
{"id":"dashtext-0ti","title":"Create POST /api/drafts endpoint","description":"Create POST /api/drafts endpoint to accept draft submissions from external services. This is the core write-only API that makes DashText a universal sink. Implement SvelteKit API route, validate content field, handle optional metadata, and return proper HTTP responses. Non-goal: don't create GET/PUT/DELETE endpoints. Acceptance criteria: POST creates new draft, content field required, metadata optional, proper HTTP status codes.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:24:11.497512671-06:00","updated_at":"2025-12-15T09:24:11.497512671-06:00","dependencies":[{"issue_id":"dashtext-0ti","depends_on_id":"dashtext-5mj","type":"parent-child","created_at":"2025-12-15T09:24:38.367248632-06:00","created_by":"daemon"}]}
{"id":"dashtext-13h","title":"Epic 2.2 — API-First Ingestion UX","description":"API-First Ingestion UX - Make API ingestion feel first-class, not bolted on. This includes token management UI, per-token labeling, ingestion logs, and source attribution display. The goal is to make API-created drafts feel native to the application. Non-goals: no connector setup UI, no OAuth integration. This is important because API ingestion should feel seamless and integrated, not like a peripheral feature.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:24:22.156294443-06:00","updated_at":"2025-12-15T09:24:22.156294443-06:00","dependencies":[{"issue_id":"dashtext-13h","depends_on_id":"dashtext-wed","type":"parent-child","created_at":"2025-12-15T09:24:38.450769422-06:00","created_by":"daemon"}]}
{"id":"dashtext-13w","title":"Implement rate limiting and abuse protection","description":"Implement rate limiting and abuse protection to prevent API misuse while keeping it accessible. Apply per-token rate limits, implement simple sliding window algorithm, return proper HTTP 429 responses, and log abuse attempts. This protects the service without complex infrastructure. Non-goal: don't build sophisticated fraud detection. Acceptance criteria: per-token rate limits enforced, HTTP 429 responses on limit exceeded, basic abuse logging, reasonable limits for legitimate use.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:24:11.570342648-06:00","updated_at":"2025-12-15T09:24:11.570342648-06:00","dependencies":[{"issue_id":"dashtext-13w","depends_on_id":"dashtext-5mj","type":"parent-child","created_at":"2025-12-15T09:24:38.419277036-06:00","created_by":"daemon"}]}
{"id":"dashtext-241","title":"Add error handling and user feedback for actions","description":"Implement comprehensive error handling and user feedback for action execution. This includes try-catch error boundaries, user-friendly error messages, success notifications, execution logging, and retry capabilities. Users should always understand what happened when an action runs, whether it succeeded, failed, or needs their attention.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:05.804685291-06:00","updated_at":"2025-12-15T09:37:25.872466606-06:00","dependencies":[{"issue_id":"dashtext-241","depends_on_id":"dashtext-rby","type":"parent-child","created_at":"2025-12-15T09:38:23.628141963-06:00","created_by":"daemon"}]}
{"id":"dashtext-2ea","title":"Remove DraftsAPI interface mixing navigation into storage","description":"Clean up architectural mess where DraftsAPI interface extends DraftAPI with navigation methods. This violates separation of concerns by mixing storage operations with UI navigation. Remove the extended interface completely and keep DraftAPI pure.","notes":"COMPLETED: Removed DraftsAPI interface from api/types.ts that was mixing navigation into storage. Fixed imports in platform/types.ts to use pure DraftAPI. Interface is now clean separation - DraftAPI only handles storage operations.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T13:09:52.606159202-06:00","updated_at":"2025-12-15T13:13:47.164174388-06:00","closed_at":"2025-12-15T13:13:47.164174388-06:00"}
{"id":"dashtext-2mv","title":"Rewrite web backend with Drizzle","description":"Replace packages/web/src/lib/api/backend.ts (500+ lines) with Drizzle implementation (~100 lines) using same query patterns as desktop.","acceptance_criteria":"- [ ] Replace web backend.ts with Drizzle implementation\\n- [ ] Use same query patterns as desktop backend\\n- [ ] Implement all DraftAPI methods\\n- [ ] Add toApiFormat() conversion function\\n- [ ] Test all CRUD operations work correctly","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T15:12:04.793100423-06:00","updated_at":"2025-12-15T17:11:09.158864212-06:00","closed_at":"2025-12-15T17:11:09.158864212-06:00","dependencies":[{"issue_id":"dashtext-2mv","depends_on_id":"dashtext-p2x","type":"parent-child","created_at":"2025-12-15T15:12:36.76043787-06:00","created_by":"daemon"},{"issue_id":"dashtext-2mv","depends_on_id":"dashtext-b60","type":"blocks","created_at":"2025-12-15T15:12:50.200512766-06:00","created_by":"daemon"}]}
{"id":"dashtext-383","title":"Implement server-side draft store","description":"**Strategic Context:** Implement server-side draft store based on chosen implementation approach from Epic 5.2.\n\n**Reference Material:** See Phase 5 Sync Strategy Gist - Section 7.2: Implementation Guidance\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd#72-implementation-guidance\n\n**Why this matters:** Server-side storage is the foundation for sync. Implementation must match the chosen approach (sync engine vs custom server vs CRDT storage).\n\n**Implementation Options (based on Epic 5.2 decision):**\n- **Sync Engine:** Use engine's data model and storage requirements\n- **CRDT Stack:** Implement CRDT storage with compaction/snapshot management\n- **Hand-rolled:** Custom SQLite/Postgres store with schema matching local storage\n\n**Dependencies:** Requires implementation approach decision from Epic 5.2 sync architecture commitment.\n\n**Success Criteria:** Server-side draft store that matches chosen implementation approach and provides reliable sync foundation.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:44:02.17504187-06:00","updated_at":"2025-12-15T22:44:31.690370261-06:00","closed_at":"2025-12-15T22:44:31.690370261-06:00","dependencies":[{"issue_id":"dashtext-383","depends_on_id":"dashtext-9tg","type":"parent-child","created_at":"2025-12-15T09:44:55.625979136-06:00","created_by":"daemon"}]}
{"id":"dashtext-3ap","title":"Create meta table","description":"**Context:** Create meta table for storing sync state (last_seq) and schema version.\n\n**Reference:** history/sync-implementation-spec.md Section 5 (Local Storage)\n\n**Table Structure:**\n- `key` (text, primary key)\n- `value` (text, JSON-serialized)\n\n**Initial Keys:**\n- `last_seq`: tracks highest seq from server (for incremental pull)\n- `schema_version`: current schema version number\n\n**Implementation:**\n1. Create Drizzle migration for meta table\n2. Add schema definition to schema.ts\n3. Initialize with last_seq=0, schema_version=current\n\n**Acceptance Criteria:**\n- Meta table created with key/value structure\n- Initial values set for last_seq and schema_version\n- Helper functions to read/write meta values","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-15T22:46:11.766576689-06:00","updated_at":"2025-12-15T22:46:11.766576689-06:00","dependencies":[{"issue_id":"dashtext-3ap","depends_on_id":"dashtext-3oy","type":"blocks","created_at":"2025-12-15T22:46:24.464405984-06:00","created_by":"daemon"}]}
{"id":"dashtext-3oy","title":"Epic M0 — Sync Data Layer","description":"**Strategic Context:** Add sync-specific fields and tables to existing unified SQLite schema. Extends Epic 1.1b's work by adding the local infrastructure needed for rev-based optimistic concurrency sync.\n\n**Reference:** history/sync-implementation-spec.md Section 5 (Local Storage Specs)\n\n**Why this matters:** The spec requires fields we don't have yet (rev, dirty, title) and entirely new tables (outbox, meta) to support the client-side sync protocol.\n\n**Components:**\n- Add sync fields to existing drafts schema (rev, dirty, updated_at as integer, title)\n- Create outbox table for client-side change queue\n- Create meta table for last_seq and schema_version\n- Update client API to write to outbox on mutations\n\n**Dependencies:** Builds on Epic 1.1b (Unified SQLite Data Layer)\n\n**Success Criteria:**\n- Schema includes all fields from spec Section 4\n- Outbox table matches spec Section 5 structure\n- Meta table stores sync state correctly\n- Client mutations produce outbox entries","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T22:44:43.613558839-06:00","updated_at":"2025-12-15T22:44:43.613558839-06:00","dependencies":[{"issue_id":"dashtext-3oy","depends_on_id":"dashtext-9tg","type":"blocks","created_at":"2025-12-15T22:45:07.527295064-06:00","created_by":"daemon"}]}
{"id":"dashtext-3zn","title":"Create Share/export action for system integration","description":"Implement a system share action that opens the native share dialog for the draft content. This includes platform-specific share APIs, content preparation, format detection, and fallback to clipboard when sharing isn't available. Enables integration with email, messaging apps, and other system tools.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:33.494397202-06:00","updated_at":"2025-12-15T09:37:44.463732917-06:00","dependencies":[{"issue_id":"dashtext-3zn","depends_on_id":"dashtext-t9v","type":"parent-child","created_at":"2025-12-15T09:38:27.358620685-06:00","created_by":"daemon"}]}
{"id":"dashtext-53b","title":"Implement source attribution display in UI","description":"Implement source attribution display in UI to show API-created drafts' origins. Display source field from API payload, show token labels as source identifiers, add visual indicators for API-created drafts, and include source info in draft metadata. This makes API ingestion feel first-class and integrated. Acceptance criteria: source field displayed in UI, token labels shown as source, API drafts visually distinct, source info preserved in metadata.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:24:22.227662191-06:00","updated_at":"2025-12-15T09:24:22.227662191-06:00","dependencies":[{"issue_id":"dashtext-53b","depends_on_id":"dashtext-13h","type":"parent-child","created_at":"2025-12-15T09:24:38.505597521-06:00","created_by":"daemon"}]}
{"id":"dashtext-5fe","title":"Implement Open URL action with template support","description":"Implement an action that opens URLs in the default browser with template variable support. This includes URL validation, template variable substitution (content, selection, metadata), browser detection, and error handling for malformed URLs. Users should be able to create actions like searching Google, opening GitHub issues, or navigating to specific tools.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:33.405363469-06:00","updated_at":"2025-12-15T09:37:36.621235083-06:00","dependencies":[{"issue_id":"dashtext-5fe","depends_on_id":"dashtext-t9v","type":"parent-child","created_at":"2025-12-15T09:38:27.297223945-06:00","created_by":"daemon"}]}
{"id":"dashtext-5mj","title":"Epic 2.1 — Capture API (Write-Only)","description":"Capture API (Write-Only) - Enable automation without building integrations by implementing a write-only API. This includes token-based authentication, POST /api/drafts endpoint, minimal payload validation, idempotency keys, and rate limiting. The API follows the constraint of being boring, stable, and write-first. Non-goals: no read API, no webhooks out, no user automation UI. This is critical because it enables DashText to become a universal sink without becoming an automation platform.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:24:11.446400387-06:00","updated_at":"2025-12-15T09:24:11.446400387-06:00","dependencies":[{"issue_id":"dashtext-5mj","depends_on_id":"dashtext-wed","type":"parent-child","created_at":"2025-12-15T09:24:38.338761852-06:00","created_by":"daemon"}]}
{"id":"dashtext-5p7","title":"Implement graceful handling of missing metadata","description":"Implement graceful handling of missing metadata to make the API more forgiving. Accept requests without optional fields, provide sensible defaults for missing source information, handle malformed metadata without failure, and log unexpected input patterns. This makes the API robust for various integration scenarios. Acceptance criteria: missing metadata handled gracefully, sensible defaults applied, malformed input doesn't break API, useful error messages for debugging.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-15T09:24:31.81738667-06:00","updated_at":"2025-12-15T09:24:31.81738667-06:00","dependencies":[{"issue_id":"dashtext-5p7","depends_on_id":"dashtext-5ub","type":"parent-child","created_at":"2025-12-15T09:24:38.572415203-06:00","created_by":"daemon"}]}
{"id":"dashtext-5ub","title":"Epic 2.3 — Email / Webhook Friendly Formats (Optional)","description":"Email / Webhook Friendly Formats (Optional) - Make API usage ergonomic without extra tooling by accepting plain-text POST bodies and minimal form-encoded input. This enables simple email forwarding and webhook integrations without complex JSON payload construction. The goal is to lower the barrier for basic automation. Non-goal: don't build full email server or webhook processing system.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-15T09:24:31.749883994-06:00","updated_at":"2025-12-15T09:24:31.749883994-06:00","dependencies":[{"issue_id":"dashtext-5ub","depends_on_id":"dashtext-wed","type":"parent-child","created_at":"2025-12-15T09:24:38.518911565-06:00","created_by":"daemon"}]}
{"id":"dashtext-5uj","title":"Update client API to write outbox entries","description":"**Context:** Modify client API (create/update/delete operations) to write outbox entries alongside draft mutations.\n\n**Reference:** history/sync-implementation-spec.md Section 9 (Local Outbox Model)\n\n**Pattern:**\nEvery mutation should:\n1. Perform the local draft mutation (create/update/delete)\n2. Write corresponding outbox entry with op, note_id, base_rev, values\n3. Set draft.dirty = true\n\n**Operations to Update:**\n- Create draft → outbox: op='upsert', base_rev=0\n- Update draft → outbox: op='upsert', base_rev=current_rev\n- Delete draft → outbox: op='delete', base_rev=current_rev\n\n**Implementation:**\n1. Update packages/lib/src/api/client.ts mutation methods\n2. Add outbox write alongside each draft mutation\n3. Extract base_rev from current draft state\n4. Set dirty flag on affected draft\n\n**Acceptance Criteria:**\n- All draft mutations produce outbox entries\n- Outbox entries include correct base_rev\n- Dirty flag set appropriately\n- Mutations remain atomic (draft + outbox or neither)","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-15T22:46:18.345126727-06:00","updated_at":"2025-12-15T22:46:18.345126727-06:00","dependencies":[{"issue_id":"dashtext-5uj","depends_on_id":"dashtext-3oy","type":"blocks","created_at":"2025-12-15T22:46:25.056526127-06:00","created_by":"daemon"}]}
{"id":"dashtext-5y9","title":"Document sync assumptions","description":"**Strategic Context:** Document all sync assumptions to guide implementation. Clear assumptions prevent architectural drift and scope creep.\n\n**Why this matters:** Single-writer bias, offline-first behavior, and network assumptions determine the entire sync architecture. Get these right first.\n\n**Success Criteria:** Complete documentation of sync assumptions including single-writer bias, network reliability, and offline behavior","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T09:43:43.373629112-06:00","updated_at":"2025-12-15T10:51:05.503449566-06:00","closed_at":"2025-12-15T10:51:05.503449566-06:00","dependencies":[{"issue_id":"dashtext-5y9","depends_on_id":"dashtext-ykh","type":"parent-child","created_at":"2025-12-15T09:44:46.833026049-06:00","created_by":"daemon"}]}
{"id":"dashtext-6d0","title":"Phase 5 — Sync (Intentionally Late)","description":"**Strategic Context:** Multi-device safety without destabilization. Sync is intentionally delayed until after capture, API, import/export, and actions are solid foundations. Comprehensive strategy analysis ensures conscious architectural commitments.\n\n**Why this matters:** DashText must be trustworthy across devices, but sync complexity must never threaten the capture-first foundation. The new three-epic structure forces conscious decisions about architectural complexity and evolution paths.\n\n**New Epic Structure:**\n- **Epic 5.1 — Sync Architecture Deep Analysis:** Analyze Design A/B/C options, anchor dependency framework, final design commitment\n- **Epic 5.2 — Sync Implementation Decision:** Evaluate sync engines, CRDT stacks, hand-rolled options, make implementation commitment  \n- **Epic 5.3 — Concrete Sync Implementation:** Build sync following chosen architecture and implementation approach\n\n**Reference Material:** Phase 5 Sync Strategy Gist (comprehensive strategic analysis)\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd\n\n**Success Criteria:** Two devices feel safe, sync doesn't dominate development time, architectural decisions are conscious rather than accidental","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:43:24.230756563-06:00","updated_at":"2025-12-15T10:51:14.436158797-06:00"}
{"id":"dashtext-6en","title":"Make DraftsState navigation-free with pure storage operations","description":"Refactor DraftsState to remove all navigation calls (api.navigateTo, api.replaceUrl) from storage operations. Methods like performSave, deleteCurrentDraft, and archiveCurrentDraft should return navigation hints instead of calling navigation directly. This maintains clean separation between data layer and UI layer.","notes":"COMPLETED: Made DraftsState navigation-free with pure storage operations. DraftsState now handles internal navigation when platform provided. Removed separate navigation context. Components now call DraftsState methods directly. Consistent with Svelte 5 patterns.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T13:09:58.505486557-06:00","updated_at":"2025-12-15T14:13:58.764766487-06:00","closed_at":"2025-12-15T13:43:13.360824601-06:00","dependencies":[{"issue_id":"dashtext-6en","depends_on_id":"dashtext-h9s.1","type":"discovered-from","created_at":"2025-12-15T13:10:54.969936484-06:00","created_by":"daemon"},{"issue_id":"dashtext-6en","depends_on_id":"dashtext-2ea","type":"blocks","created_at":"2025-12-15T13:11:20.288739287-06:00","created_by":"daemon"}]}
{"id":"dashtext-6k8","title":"Accept minimal form-encoded input","description":"Accept minimal form-encoded input for webhooks and HTML forms. Parse application/x-www-form-urlencoded content, extract content and optional source fields, handle multipart form data gracefully, and provide fallback for missing JSON Content-Type. This enables webhook integration from services that don't support custom JSON. Acceptance criteria: form data parsed correctly, content field extracted, optional source fields handled, webhook compatibility.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-15T09:24:31.796051847-06:00","updated_at":"2025-12-15T09:24:31.796051847-06:00","dependencies":[{"issue_id":"dashtext-6k8","depends_on_id":"dashtext-5ub","type":"parent-child","created_at":"2025-12-15T09:24:38.554767385-06:00","created_by":"daemon"}]}
{"id":"dashtext-6lc","title":"Build sync status UI","description":"**Strategic Context:** Display sync state and last successful sync time in the UI.\n\n**Reference:** history/sync-implementation-spec.md Section 14 (Operational Considerations)\n\n**Why this matters:** Users need visibility into sync state to build trust. Clear indicators show when data is safe/synced vs pending/syncing.\n\n**Implementation:**\n- Sync state indicator: idle / syncing / error / offline\n- Last successful sync timestamp display\n- Pending changes count (outbox size)\n- Visual feedback during sync operations\n\n**Dependencies:** Requires M1 (working sync protocol)\n\n**Success Criteria:**\n- Status indicator shows current sync state accurately\n- Last sync time displayed and updated correctly\n- Pending changes count visible when outbox non-empty\n- Users can see sync progress in real-time","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:44:09.150333255-06:00","updated_at":"2025-12-15T22:45:30.296574067-06:00","dependencies":[{"issue_id":"dashtext-6lc","depends_on_id":"dashtext-9tg","type":"parent-child","created_at":"2025-12-15T09:45:02.888683983-06:00","created_by":"daemon"},{"issue_id":"dashtext-6lc","depends_on_id":"dashtext-7af","type":"blocks","created_at":"2025-12-15T22:45:31.065675707-06:00","created_by":"daemon"}]}
{"id":"dashtext-6st","title":"Implement Append to local file action (desktop)","description":"Implement a desktop-only action that appends draft content to a local file. This includes file path resolution, content formatting, append logic, permission handling, and error reporting. Essential for logging, note accumulation, and integration with local file-based workflows.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:33.621005082-06:00","updated_at":"2025-12-15T09:37:54.564458289-06:00","dependencies":[{"issue_id":"dashtext-6st","depends_on_id":"dashtext-t9v","type":"parent-child","created_at":"2025-12-15T09:38:27.460402302-06:00","created_by":"daemon"}]}
{"id":"dashtext-7af","title":"Epic M2 — Sync UX Hardening","description":"**Strategic Context:** Add user-facing sync features that make sync transparent, trustworthy, and user-controlled.\n\n**Reference:** history/sync-implementation-spec.md Sections 9, 14 (Client Algorithm, Operational Considerations)\n\n**Why this matters:** Sync must feel safe and controllable. Users need visibility into sync state, conflict resolution, and manual sync triggers.\n\n**Components:**\n- Conflict copy creation and notification UI\n- Sync status indicator (last sync time, sync state)\n- Manual sync trigger button\n- Backoff/retry logic for network failures\n\n**Dependencies:** Requires M1 (working sync protocol)\n\n**Success Criteria:**\n- Conflicts create copies with '(Conflict)' prefix\n- User sees sync status in UI\n- Manual sync button works reliably\n- Network failures handled gracefully with retry","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T22:44:56.134709207-06:00","updated_at":"2025-12-15T22:44:56.134709207-06:00","dependencies":[{"issue_id":"dashtext-7af","depends_on_id":"dashtext-9tg","type":"blocks","created_at":"2025-12-15T22:45:08.671505968-06:00","created_by":"daemon"},{"issue_id":"dashtext-7af","depends_on_id":"dashtext-0k7","type":"blocks","created_at":"2025-12-15T22:45:10.48010768-06:00","created_by":"daemon"}]}
{"id":"dashtext-7b3","title":"Set up sql.js infrastructure for web","description":"Add sql.js and types to web package, add drizzle-orm to web package, copy sql.js WASM to static folder, create sqljs.ts wrapper for initialization.","acceptance_criteria":"- [ ] Add sql.js and @types/sql.js to web package\\n- [ ] Add drizzle-orm to web package\\n- [ ] Copy sql.js WASM files to web/static/sql.js/\\n- [ ] Create sqljs.ts wrapper for WASM initialization\\n- [ ] Verify sql.js loads and creates in-memory DB","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T15:11:09.478434825-06:00","updated_at":"2025-12-15T17:11:09.154290729-06:00","closed_at":"2025-12-15T17:11:09.154290729-06:00","dependencies":[{"issue_id":"dashtext-7b3","depends_on_id":"dashtext-p2x","type":"parent-child","created_at":"2025-12-15T15:12:36.604973828-06:00","created_by":"daemon"},{"issue_id":"dashtext-7b3","depends_on_id":"dashtext-j21","type":"blocks","created_at":"2025-12-15T15:12:43.84356643-06:00","created_by":"daemon"}]}
{"id":"dashtext-7bm","title":"Cleanup old IndexedDB code","description":"Remove old IndexedDB backend code, remove idb dependency from web package, remove mock.ts if unused.","acceptance_criteria":"- [ ] Delete old backend.ts (IndexedDB version)\\n- [ ] Remove idb dependency from package.json\\n- [ ] Remove mock.ts if unused\\n- [ ] Update any remaining references\\n- [ ] Verify final code is clean","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T15:12:24.463221408-06:00","updated_at":"2025-12-15T17:13:45.254254283-06:00","closed_at":"2025-12-15T17:13:45.254254283-06:00","dependencies":[{"issue_id":"dashtext-7bm","depends_on_id":"dashtext-p2x","type":"parent-child","created_at":"2025-12-15T15:12:36.832615509-06:00","created_by":"daemon"},{"issue_id":"dashtext-7bm","depends_on_id":"dashtext-pkz","type":"blocks","created_at":"2025-12-15T15:12:50.261326682-06:00","created_by":"daemon"}]}
{"id":"dashtext-7rg","title":"Update platform types to use pure DraftAPI","description":"Fix PlatformCapabilities interface in platform/types.ts to use DraftAPI instead of DraftsAPI. This removes the navigation methods from the storage interface reference. Also update desktop and web platform implementations to match the clean separation.","notes":"COMPLETED: Updated PlatformCapabilities interface to use pure DraftAPI. Fixed desktop and web platform implementations to match DraftAPI interface with proper method names (create, save, get, etc.) and UUID parameters. Navigation methods remain at platform level, not mixed into storage.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T13:10:46.213674616-06:00","updated_at":"2025-12-15T13:48:11.052686866-06:00","closed_at":"2025-12-15T13:48:11.052686866-06:00","dependencies":[{"issue_id":"dashtext-7rg","depends_on_id":"dashtext-h9s.1","type":"discovered-from","created_at":"2025-12-15T13:11:09.104275818-06:00","created_by":"daemon"}]}
{"id":"dashtext-859","title":"Implement conflict copies","description":"**Strategic Context:** Implement conflict copy creation when server detects rev mismatch during sync.\n\n**Reference:** history/sync-implementation-spec.md Section 9 (Conflict Copy Policy)\n\n**Why this matters:** Conflict copies prevent data loss without requiring merge UI. When client's base_rev doesn't match server rev, create a new draft with '(Conflict)' prefix containing client's content, then replace original with server version.\n\n**Implementation:**\n- Detect 'conflict' status in sync response ack\n- Create new draft: id=new_uuid, title='(Conflict) ' + original_title, content=client_content\n- Replace original draft with server version from response\n- Show notification: 'Conflict detected, saved a copy'\n- Mark conflict copy as dirty for next sync\n\n**Dependencies:** Requires M1 (working sync protocol with conflict detection)\n\n**Success Criteria:**\n- Conflicts create new drafts with '(Conflict)' prefix\n- Original draft replaced with server version\n- No data loss in conflict scenarios\n- User sees conflict notification","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:44:06.842325986-06:00","updated_at":"2025-12-15T22:45:24.458265597-06:00","dependencies":[{"issue_id":"dashtext-859","depends_on_id":"dashtext-9tg","type":"parent-child","created_at":"2025-12-15T09:45:00.478774213-06:00","created_by":"daemon"},{"issue_id":"dashtext-859","depends_on_id":"dashtext-7af","type":"blocks","created_at":"2025-12-15T22:45:25.435813415-06:00","created_by":"daemon"}]}
{"id":"dashtext-982","title":"Epic M3 — History Groundwork","description":"**Strategic Context:** Add server-side version history as a safety net and future feature foundation.\n\n**Reference:** history/sync-implementation-spec.md Section 11 (History and Versions)\n\n**Why this matters:** Per-note version history enables audit trails, undo capabilities, and conflict resolution UI improvements. Start with server-side storage, expose via API later.\n\n**Components:**\n- Add note_versions table to DO schema\n- Write previous version on every accepted update\n- (Optional) Expose GET /notes/:id/versions endpoint\n\n**Dependencies:** Requires M1 (DO schema and sync working)\n\n**Success Criteria:**\n- Every sync update writes previous version to note_versions\n- Versions table accumulates historical snapshots\n- (Optional) Versions endpoint returns historical revisions","status":"open","priority":3,"issue_type":"epic","created_at":"2025-12-15T22:45:00.955921925-06:00","updated_at":"2025-12-15T22:45:00.955921925-06:00","dependencies":[{"issue_id":"dashtext-982","depends_on_id":"dashtext-9tg","type":"blocks","created_at":"2025-12-15T22:45:09.249273809-06:00","created_by":"daemon"},{"issue_id":"dashtext-982","depends_on_id":"dashtext-0k7","type":"blocks","created_at":"2025-12-15T22:45:11.05904734-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir","title":"Phase 3 — Import / Export \u0026 Portability (Plain Text Longevity)","description":"Phase 3 establishes import/export capabilities ensuring DashText is not a silo. Users can back up or leave DashText at any time, making plain-text longevity real rather than just marketing.\n\n**Strategic Goal:** DashText is not a silo\n\n**Components:**\n- Export functionality (Plain Text First)  \n- Import capabilities for external data\n- Portability framework for data migration\n\n**Exit Criteria:**\n- Users can back up or leave DashText at any time\n- Plain-text longevity is real, not marketing\n\n**Non-Goals:**\n- No live file sync (one-way import/export only)\n- No vault-mode editing (DashText remains the editor)\n- No proprietary formats (plain text only)","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:32:06.744254021-06:00","updated_at":"2025-12-15T09:32:13.119532539-06:00"}
{"id":"dashtext-9ir.1","title":"Epic 3.1 — Export (Plain Text First)","description":"Establishes core export functionality ensuring users can get their drafts out of DashText in standard plain-text formats. This is the foundation for data portability and backup capabilities.\n\n**Strategic Context:** Export is the first step toward ensuring DashText is not a silo. Users must be able to reliably export their drafts in standard formats for backup, migration, or external processing.\n\n**Components:**\n- Individual draft export to Markdown\n- Deterministic frontmatter generation  \n- Optional JSON sidecar for metadata\n- Filtered export sets (Inbox, Archive)\n\n**Non-Goals:**\n- No live file sync (manual export only)\n- No vault-mode editing (exports are read-only copies)\n- No proprietary formats (Markdown and JSON only)\n\n**Success Criteria:**\n- Users can export any single draft as Markdown\n- Batch exports work for filtered sets\n- Frontmatter is consistent and parseable\n- Metadata is preserved in JSON sidecar","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:32:18.919464423-06:00","updated_at":"2025-12-15T09:32:27.086885592-06:00","dependencies":[{"issue_id":"dashtext-9ir.1","depends_on_id":"dashtext-9ir","type":"parent-child","created_at":"2025-12-15T09:32:18.920244246-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.1.1","title":"Implement Markdown export for individual drafts","description":"Core export functionality that converts individual drafts to standard Markdown format with UUID-based filenames. This is the foundation for all other export capabilities.\n\n**Implementation Details:**\n- Create export service in src/lib/services/export.ts\n- Export function: exportDraftAsMarkdown(draftId: string) -\u003e Promise\u003cstring\u003e\n- File naming: \u003cuuid\u003e.md (using draft UUID)\n- Content conversion: Plain text to Markdown format\n- File dialog integration for folder selection\n\n**Strategic Context:** Single draft export is the building block for batch operations and enables users to share individual drafts or move them to other tools.\n\n**Non-Goals:**\n- No complex formatting (preserve plain text structure)\n- No image/media handling (text only)\n- No automatic folder creation (user chooses destination)\n\n**Acceptance Criteria:**\n- Individual draft exports as \u003cuuid\u003e.md file\n- Export preserves original content exactly\n- User can choose export destination via file dialog\n- Export completes without errors for valid drafts\n- Keyboard shortcut available (Ctrl/Cmd+E)","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:32:52.040727391-06:00","updated_at":"2025-12-15T09:32:58.272419385-06:00","dependencies":[{"issue_id":"dashtext-9ir.1.1","depends_on_id":"dashtext-9ir.1","type":"parent-child","created_at":"2025-12-15T09:32:52.041513995-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.1.2","title":"Add deterministic frontmatter generation","description":"Generates consistent, parseable YAML frontmatter for exported Markdown files using draft metadata. Enables downstream tools to understand draft properties.\n\n**Implementation Details:**\n- Extend export service with frontmatter generation\n- Frontmatter fields: id, created_at, updated_at, source, source_url (if available)\n- Deterministic format: Same fields always appear in same order\n- Optional frontmatter: User can choose to include or exclude\n- Integration with existing draft metadata schema\n\n**Strategic Context:** Frontmatter makes exported files intelligible to other static site generators, note-taking apps, and processing tools.\n\n**Non-Goals:**\n- No custom frontmatter templates (fixed schema only)\n- No processing of existing frontmatter in imports\n- No dynamic field addition (static schema only)\n\n**Acceptance Criteria:**\n- Frontmatter appears at top of exported Markdown files\n- Fields are consistently ordered and formatted\n- YAML syntax is valid and parseable\n- Optional frontmatter can be toggled in export UI\n- All metadata fields are properly escaped","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:32:52.056389434-06:00","updated_at":"2025-12-15T09:33:04.286805707-06:00","dependencies":[{"issue_id":"dashtext-9ir.1.2","depends_on_id":"dashtext-9ir.1","type":"parent-child","created_at":"2025-12-15T09:32:52.057326336-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.1.3","title":"Create optional JSON sidecar for metadata","description":"Creates JSON sidecar files containing complete draft metadata for advanced use cases and data preservation. Enables full reconstruction of draft state.\n\n**Implementation Details:**\n- Sidecar file naming: \u003cuuid\u003e.json (matching Markdown file)\n- Complete metadata export: All draft fields, flags, and relationships\n- JSON schema validation for consistency\n- Optional sidecar generation (user-controlled)\n- Atomic export: Markdown and JSON created together\n\n**Strategic Context:** JSON sidecar preserves all metadata that cannot fit in YAML frontmatter, ensuring complete data portability and potential for full import restoration.\n\n**Non-Goals:**\n- No content duplication (metadata only, not draft text)\n- No complex JSON structure (flat schema preferred)\n- No automatic sidecar processing (manual user choice)\n\n**Acceptance Criteria:**\n- JSON sidecar contains all draft metadata\n- Schema is consistent and documented\n- Sidecar files are created alongside Markdown exports\n- Optional generation can be toggled in UI\n- JSON is valid and parseable by standard tools","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:32:52.072259391-06:00","updated_at":"2025-12-15T09:33:10.57307888-06:00","dependencies":[{"issue_id":"dashtext-9ir.1.3","depends_on_id":"dashtext-9ir.1","type":"parent-child","created_at":"2025-12-15T09:32:52.073052006-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.1.4","title":"Implement filtered export sets (Inbox, Archive)","description":"Enables batch export of filtered draft sets (Inbox, Archive) rather than requiring individual file selection. Supports user workflows for backing up specific draft collections.\n\n**Implementation Details:**\n- Extend export service with batch export capabilities\n- Filter support: Inbox, Archive, All drafts\n- Batch export function: exportFilteredDrafts(filter: string, destination: string)\n- Progress tracking for large export operations\n- Error handling for individual file failures\n\n**Strategic Context:** Filtered export makes backing up specific draft collections practical and enables users to export only the drafts they care about.\n\n**Non-Goals:**\n- No complex filtering (basic Inbox/Archive only)\n- No custom filter queries (predefined sets only)\n- No scheduled exports (manual only)\n\n**Acceptance Criteria:**\n- Users can select Inbox, Archive, or All for export\n- Batch export creates multiple files in chosen destination\n- Export progress is shown for large operations\n- Individual file failures don't stop entire batch\n- All drafts in selected set are exported successfully","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:32:52.088931551-06:00","updated_at":"2025-12-15T09:33:15.773546047-06:00","dependencies":[{"issue_id":"dashtext-9ir.1.4","depends_on_id":"dashtext-9ir.1","type":"parent-child","created_at":"2025-12-15T09:32:52.089808472-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.1.5","title":"Add batch export UI and keyboard shortcuts","description":"Provides user interface and keyboard shortcuts for initiating export operations. Makes export functionality discoverable and accessible through standard interaction patterns.\n\n**Implementation Details:**\n- Export menu item in main application menu\n- Export dialog UI with options (frontmatter, sidecar, filters)\n- Keyboard shortcuts: Ctrl/Cmd+E (single draft), Ctrl/Cmd+Shift+E (batch)\n- Context menu option for individual draft export\n- Export status feedback and completion notifications\n\n**Strategic Context:** UI and keyboard integration makes export functionality discoverable and aligns with user expectations for desktop applications.\n\n**Non-Goals:**\n- No complex export wizard (simple dialog only)\n- No automated export scheduling (manual triggers only)\n- No export templates (fixed options only)\n\n**Acceptance Criteria:**\n- Export option appears in main application menu\n- Keyboard shortcuts work consistently across platforms\n- Export dialog presents all relevant options clearly\n- Context menu provides export for selected drafts\n- Users receive feedback on export completion","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:32:52.105113826-06:00","updated_at":"2025-12-15T09:33:29.717115395-06:00","dependencies":[{"issue_id":"dashtext-9ir.1.5","depends_on_id":"dashtext-9ir.1","type":"parent-child","created_at":"2025-12-15T09:32:52.106025972-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.2","title":"Epic 3.2 — Import","description":"Enables users to import external Markdown files and folders into DashText, completing the round-trip data portability story. Makes DashText a viable destination for existing text collections.\n\n**Strategic Context:** Import is the counterpart to export, ensuring users can migrate existing text collections into DashText. This makes DashText accessible to users with existing plain-text workflows.\n\n**Components:**\n- Markdown folder import functionality\n- Conflict detection and handling\n- Original timestamp preservation\n- Duplicate resolution strategies\n\n**Non-Goals:**\n- No live file sync (one-way import only)\n- No automatic file watching\n- No complex import rules (simple folder import)\n\n**Success Criteria:**\n- Users can import entire Markdown folders\n- Conflicts are detected and presented clearly\n- Original file timestamps are preserved when possible\n- Import process is reversible and safe","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:32:30.477401951-06:00","updated_at":"2025-12-15T09:32:36.957313941-06:00","dependencies":[{"issue_id":"dashtext-9ir.2","depends_on_id":"dashtext-9ir","type":"parent-child","created_at":"2025-12-15T09:32:30.478782224-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.2.1","title":"Implement Markdown folder import functionality","description":"Core import functionality that processes Markdown files from a selected folder and creates drafts in DashText. Enables users to migrate existing text collections into DashText.\n\n**Implementation Details:**\n- Create import service in src/lib/services/import.ts\n- Import function: importMarkdownFolder(folderPath: string) -\u003e Promise\u003cImportResult\u003e\n- File discovery: Recursive scan for .md files\n- Content extraction: Strip frontmatter if present, extract body content\n- Draft creation: Generate new UUIDs for imported drafts\n\n**Strategic Context:** Folder import makes DashText accessible to users with existing plain-text workflows and enables migration from other tools.\n\n**Non-Goals:**\n- No automatic file watching (one-time import only)\n- No complex file filtering (all .md files imported)\n- No live folder sync (manual import only)\n\n**Acceptance Criteria:**\n- Users can select a folder for import via file dialog\n- All .md files in folder and subfolders are imported\n- Imported content appears as new drafts in DashText\n- Import process handles folders with dozens of files\n- Users receive feedback on import completion and results","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:33:33.102434468-06:00","updated_at":"2025-12-15T09:33:37.91507521-06:00","dependencies":[{"issue_id":"dashtext-9ir.2.1","depends_on_id":"dashtext-9ir.2","type":"parent-child","created_at":"2025-12-15T09:33:33.103361259-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.2.2","title":"Add conflict detection and handling for imports","description":"Detects and handles conflicts when imported files might duplicate existing drafts. Provides clear user choice for how to handle potential duplicates.\n\n**Implementation Details:**\n- Conflict detection based on content similarity and file metadata\n- Conflict resolution UI with options: Skip, Replace, Keep Both, Rename\n- Import service extension with conflict handling logic\n- Batch conflict resolution for multiple files\n- Import log showing conflicts and resolutions\n\n**Strategic Context:** Conflict handling prevents data loss and gives users control over how imports interact with existing drafts.\n\n**Non-Goals:**\n- No automatic conflict resolution (user choice required)\n- No complex diff visualization (simple indication only)\n- No rollback functionality (forward-only import)\n\n**Acceptance Criteria:**\n- Import process detects potential duplicate content\n- Users see clear options for handling each conflict\n- Batch resolution allows handling multiple conflicts at once\n- Import continues after conflict resolution choices\n- Import summary shows conflicts and their resolutions","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:33:33.11855567-06:00","updated_at":"2025-12-15T09:33:46.053839799-06:00","dependencies":[{"issue_id":"dashtext-9ir.2.2","depends_on_id":"dashtext-9ir.2","type":"parent-child","created_at":"2025-12-15T09:33:33.119438109-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.2.3","title":"Create timestamp preservation for imported files","description":"Preserves original file creation and modification timestamps when importing Markdown files. Maintains chronological context of imported content.\n\n**Implementation Details:**\n- Timestamp extraction from file system metadata\n- Import service extension for timestamp preservation\n- Fallback strategy: Use file modification date if creation date unavailable\n- Frontmatter handling: Respect existing created_at/updated_at in YAML frontmatter\n- Database schema support for import timestamps\n\n**Strategic Context:** Timestamp preservation maintains the chronological context of imported content and respects the original creation timeline.\n\n**Non-Goals:**\n- No timezone conversion (preserve original timezone)\n- No timestamp manipulation (preserve as-is)\n- No automatic timestamp generation (preserve original only)\n\n**Acceptance Criteria:**\n- Imported drafts use original file creation dates\n- File modification timestamps are preserved when available\n- Existing frontmatter timestamps take precedence over file dates\n- Import doesn't create drafts with current date/time\n- Timestamps are displayed correctly in Dashtext UI","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:33:33.136186418-06:00","updated_at":"2025-12-15T09:33:51.705748564-06:00","dependencies":[{"issue_id":"dashtext-9ir.2.3","depends_on_id":"dashtext-9ir.2","type":"parent-child","created_at":"2025-12-15T09:33:33.137489283-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.2.4","title":"Implement duplicate resolution strategies","description":"Provides strategies for handling duplicate content during import, allowing users to control how similar drafts are processed. Enables safe import without data loss.\n\n**Implementation Details:**\n- Duplicate detection algorithm: Content similarity and metadata comparison\n- Resolution strategies: Keep Original, Keep New, Keep Both, Merge\n- Import service extension with duplicate resolution logic\n- User choice persistence for consistent handling across imports\n- Import preview showing potential duplicates before import\n\n**Strategic Context:** Duplicate resolution gives users control over import behavior and prevents accidental data overwrite while enabling comprehensive migration.\n\n**Non-Goals:**\n- No automatic merging (user-controlled only)\n- No complex diff display (simple indication only)\n- No undo functionality (forward-only import)\n\n**Acceptance Criteria:**\n- Import process identifies potential duplicates before processing\n- Users can choose default strategy for handling duplicates\n- Individual duplicate decisions override default strategy\n- Import preview shows all potential duplicates\n- Users can proceed with import after reviewing duplicates","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:33:33.157635775-06:00","updated_at":"2025-12-15T09:34:00.476639204-06:00","dependencies":[{"issue_id":"dashtext-9ir.2.4","depends_on_id":"dashtext-9ir.2","type":"parent-child","created_at":"2025-12-15T09:33:33.15874891-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.3","title":"Epic 3.3 — Portability Framework","description":"Provides the underlying framework and utilities that make import/export operations reliable, safe, and user-friendly. Ensures data integrity throughout portability operations.\n\n**Strategic Context:** The portability framework is the foundation that makes import/export operations trustworthy. It handles validation, error recovery, and data integrity protections.\n\n**Components:**\n- Data validation and integrity checking\n- Backup/restore workflow utilities\n- Cross-platform compatibility layer\n- Migration and upgrade tools\n\n**Non-Goals:**\n- No automatic sync (manual operations only)\n- No cloud integration (local framework only)\n- No third-party service integrations\n\n**Success Criteria:**\n- Import/export operations are atomic and safe\n- Data corruption is detected and prevented\n- Backup workflows are reliable and tested\n- Cross-platform portability is consistent","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:32:40.708135821-06:00","updated_at":"2025-12-15T09:32:47.152313825-06:00","dependencies":[{"issue_id":"dashtext-9ir.3","depends_on_id":"dashtext-9ir","type":"parent-child","created_at":"2025-12-15T09:32:40.708877182-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.3.1","title":"Implement data validation and integrity checking","description":"Validates data integrity during import/export operations to prevent corruption and ensure reliable portability operations. Detects and prevents common data issues.\n\n**Implementation Details:**\n- Validation service in src/lib/services/validation.ts\n- Content validation: UTF-8 encoding, proper Markdown syntax\n- Metadata validation: Required fields, proper data types\n- File system validation: Permissions, disk space, path validity\n- Error reporting with clear user feedback\n\n**Strategic Context:** Data validation ensures import/export operations are safe and reliable, preventing data loss and maintaining user trust.\n\n**Non-Goals:**\n- No complex content parsing (basic validation only)\n- No automatic data repair (prevention and reporting only)\n- No historical validation (current state only)\n\n**Acceptance Criteria:**\n- Invalid files are detected before processing\n- Validation errors are clearly explained to users\n- Operations are aborted when critical issues are found\n- Non-critical issues are reported with warnings\n- Validation completes quickly for typical file sizes","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:34:04.141122391-06:00","updated_at":"2025-12-15T09:34:14.547302215-06:00","dependencies":[{"issue_id":"dashtext-9ir.3.1","depends_on_id":"dashtext-9ir.3","type":"parent-child","created_at":"2025-12-15T09:34:04.142181014-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.3.2","title":"Create backup/restore workflow utilities","description":"Provides backup and restore utilities to protect user data during major operations and enable safe recovery. Creates safety nets for import/export workflows.\n\n**Implementation Details:**\n- Backup service in src/lib/services/backup.ts\n- Automatic backup before major import operations\n- Manual backup triggers for user-initiated safety\n- Restore functionality for recovering from failed operations\n- Backup format: SQLite dump with metadata\n\n**Strategic Context:** Backup/restore utilities give users confidence to perform import/export operations knowing they can recover if something goes wrong.\n\n**Non-Goals:**\n- No automatic scheduled backups (manual triggers only)\n- No cloud backup integration (local backups only)\n- No incremental backups (full backups only)\n\n**Acceptance Criteria:**\n- Automatic backup created before risky import operations\n- Users can trigger manual backups at any time\n- Restore functionality can recover from failed imports\n- Backup files are clearly named and dated\n- Users receive feedback on backup completion and status","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:34:04.158128518-06:00","updated_at":"2025-12-15T09:34:19.804051951-06:00","dependencies":[{"issue_id":"dashtext-9ir.3.2","depends_on_id":"dashtext-9ir.3","type":"parent-child","created_at":"2025-12-15T09:34:04.158909559-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.3.3","title":"Add cross-platform compatibility layer","description":"Ensures import/export functionality works consistently across all supported platforms (Windows, macOS, Linux). Handles platform-specific file system and UI differences.\n\n**Implementation Details:**\n- Platform abstraction layer in src/lib/platform/\n- File dialog integration for each platform's native dialogs\n- Path handling for different operating system path formats\n- Permission handling for file system access\n- Platform-specific keyboard shortcuts and UI patterns\n\n**Strategic Context:** Cross-platform compatibility ensures all users have reliable import/export functionality regardless of their operating system.\n\n**Non-Goals:**\n- No platform-specific features (consistent experience)\n- No advanced platform integrations (basic compatibility only)\n- No platform-specific optimizations (shared codebase)\n\n**Acceptance Criteria:**\n- Import/export works on Windows, macOS, and Linux\n- File dialogs use native platform appearance\n- Keyboard shortcuts follow platform conventions\n- File permissions are handled correctly on each platform\n- Error messages are appropriate for each platform","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:34:04.175040111-06:00","updated_at":"2025-12-15T09:34:25.743833117-06:00","dependencies":[{"issue_id":"dashtext-9ir.3.3","depends_on_id":"dashtext-9ir.3","type":"parent-child","created_at":"2025-12-15T09:34:04.175873598-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.3.4","title":"Implement migration and upgrade tools","description":"Provides tools for migrating data between different versions of DashText and upgrading from older data formats. Ensures forward compatibility during application updates.\n\n**Implementation Details:**\n- Migration service in src/lib/services/migration.ts\n- Version detection and format validation\n- Data schema migration utilities\n- Upgrade path validation and testing\n- Rollback capability for failed migrations\n\n**Strategic Context:** Migration tools ensure users can upgrade DashText without losing data and maintain compatibility with existing import/export workflows.\n\n**Non-Goals:**\n- No automatic migrations (user-controlled only)\n- No cross-application migrations (DashText only)\n- No downgrading support (forward migration only)\n\n**Acceptance Criteria:**\n- Migration service detects data version compatibility\n- Users can initiate data format upgrades manually\n- Migration process preserves all existing data\n- Failed migrations can be rolled back safely\n- Users receive clear feedback on migration status","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:34:04.191864032-06:00","updated_at":"2025-12-15T09:34:31.767012129-06:00","dependencies":[{"issue_id":"dashtext-9ir.3.4","depends_on_id":"dashtext-9ir.3","type":"parent-child","created_at":"2025-12-15T09:34:04.192789599-06:00","created_by":"daemon"}]}
{"id":"dashtext-9ir.3.5","title":"Create export/import operation logging","description":"Creates comprehensive logging for all import/export operations to enable troubleshooting, audit trails, and operational insights. Provides visibility into portability operations.\n\n**Implementation Details:**\n- Logging service in src/lib/services/logging.ts\n- Operation logging: Start time, duration, file counts, success/failure\n- Error logging: Detailed error information with context\n- Log file management: Rotation, cleanup, size limits\n- User-facing operation history and status\n\n**Strategic Context:** Operation logging enables troubleshooting of import/export issues and provides audit trails for data movements.\n\n**Non-Goals:**\n- No real-time monitoring (batch logging only)\n- No external log integration (local logging only)\n- No complex log analysis (basic viewing only)\n\n**Acceptance Criteria:**\n- All import/export operations are logged automatically\n- Log entries include timestamps, file counts, and success status\n- Error logs contain sufficient detail for troubleshooting\n- Users can view recent operation history\n- Log files don't grow unbounded (rotation implemented)","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:34:04.208950898-06:00","updated_at":"2025-12-15T09:34:37.195977853-06:00","dependencies":[{"issue_id":"dashtext-9ir.3.5","depends_on_id":"dashtext-9ir.3","type":"parent-child","created_at":"2025-12-15T09:34:04.209819921-06:00","created_by":"daemon"}]}
{"id":"dashtext-9m0","title":"Evaluate sync engine options","description":"**Strategic Context:** Assess sync engine options (ElectricSQL, PowerSync, Replicache) for DashText sync implementation.\n\n**Reference Material:** See Phase 5 Sync Strategy Gist - Section 4.1: Sync Engine Options Deep Dive\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd#41-sync-engine-options-deep-dive\n\n**Why this matters:** Sync engines provide professional-grade sync infrastructure but impose architectural \"gravity\" and operational complexity. DashText needs to determine if the reliability benefits outweigh the infrastructure costs.\n\n**Key Analysis Points:**\n- ElectricSQL: Postgres-first model, real-time streaming, SQLite client fit\n- PowerSync: Postgres \u003c\u003e SQLite sync, offline-first focus, sync-centric patterns\n- Replicache: Key/value state model, React-like patterns, framework flexibility\n- Architectural gravity assessment for each option\n- Operational footprint and infrastructure requirements for DashText\n\n**Success Criteria:** Clear understanding of sync engine trade-offs and whether professional sync infrastructure fits DashText's needs and complexity budget.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T10:49:50.331314203-06:00","updated_at":"2025-12-15T10:49:50.331314203-06:00","dependencies":[{"issue_id":"dashtext-9m0","depends_on_id":"dashtext-6d0","type":"parent-child","created_at":"2025-12-15T10:50:17.636627583-06:00","created_by":"daemon"},{"issue_id":"dashtext-9m0","depends_on_id":"dashtext-bs6","type":"parent-child","created_at":"2025-12-15T10:50:17.651334078-06:00","created_by":"daemon"}]}
{"id":"dashtext-9tg","title":"Epic 5.3 — Concrete Sync Implementation","description":"**Strategic Context:** Implement sync following the committed architecture: Design B (rev-based optimistic concurrency) on Cloudflare Durable Objects.\n\n**Reference:** history/sync-implementation-spec.md (complete implementation specification)\n\n**Why this matters:** The spec commits to hand-rolled sync with minimal operational complexity. Rev-based conflict detection, conflict copies for safety, single-threaded DO writes for correctness.\n\n**Architecture Decision:**\n- **Design:** Design B (optimistic concurrency with rev-based conflict detection)\n- **Implementation:** Hand-rolled Cloudflare Durable Objects\n- **Conflict Resolution:** Conflict copies (no silent overwrites, no character-level merges)\n\n**Milestone Structure:**\n- **M0 — Sync Data Layer:** Add rev/dirty/title fields, create outbox and meta tables\n- **M1 — Central DO Sync:** Worker + DO with /sync endpoint, client sync agent\n- **M2 — Sync UX Hardening:** Conflict copies, status UI, manual sync, retry logic\n- **M3 — History Groundwork:** Server-side version history (nice-to-have)\n\n**Evolution Path:** This design provides flexibility to migrate to sync engines or add CRDTs later if needed, without locking in operational complexity now.\n\n**Success Criteria:** Two devices feel safe, sync doesn't dominate development time, architectural decisions are conscious rather than accidental","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:43:33.913318986-06:00","updated_at":"2025-12-15T22:45:53.018926867-06:00","dependencies":[{"issue_id":"dashtext-9tg","depends_on_id":"dashtext-6d0","type":"parent-child","created_at":"2025-12-15T09:44:43.858811618-06:00","created_by":"daemon"},{"issue_id":"dashtext-9tg","depends_on_id":"dashtext-ykh","type":"blocks","created_at":"2025-12-15T09:45:20.679297692-06:00","created_by":"daemon"},{"issue_id":"dashtext-9tg","depends_on_id":"dashtext-bs6","type":"blocks","created_at":"2025-12-15T10:50:36.157244848-06:00","created_by":"daemon"}]}
{"id":"dashtext-9x5","title":"Implement Linux evdev hotkey foundation for global capture","description":"**Strategic Context:** Create Linux-specific evdev hotkey foundation to support global capture hotkey on Wayland and tiling window managers. This provides the Linux backend for the hybrid hotkey architecture.\n\n**Why this matters:** Tauri Global Shortcut has fundamental limitations on Linux Wayland and poor tiling WM integration. evdev provides reliable direct input device monitoring that works across all Linux desktop environments.\n\n**Implementation Components:**\n- **Platform Detection:** Linux vs non-Linux identification\n- **evdev Integration:** evdev-shortcut crate for hotkey detection\n- **Hotkey Trait:** Cross-platform HotkeyManager interface\n- **Permission Checking:** Input group validation and user guidance\n- **Error Handling:** Graceful fallbacks for permission issues\n\n**Linux-Specific Features:**\n- Works on Wayland compositors (bypasses compositor limitations)\n- Compatible with tiling window managers (independent of WM)\n- Input group requirement with setup instructions\n- Device filtering for keyboard events only\n- Support for Hyprland, Sway, GNOME, i3, bspwm\n\n**Dependencies:** evdev-shortcut crate, platform detection module, permission checking utilities.\n\n**Acceptance Criteria:**\n- Linux evdev hotkey detection works on Wayland compositors\n- Compatible with tiling window managers (Hyprland, Sway, i3, bspwm, GNOME)\n- Clear input group setup instructions provided\n- Cross-platform HotkeyManager interface implemented\n- Graceful error handling for permission issues","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T11:36:36.542682973-06:00","updated_at":"2025-12-15T11:36:36.542682973-06:00","dependencies":[{"issue_id":"dashtext-9x5","depends_on_id":"dashtext-h9s.3","type":"parent-child","created_at":"2025-12-15T11:36:56.542038612-06:00","created_by":"daemon"}]}
{"id":"dashtext-a76","title":"Make sync architecture commitment decision","description":"**Strategic Context:** Choose the final implementation approach (sync engine vs CRDT stack vs hand-rolled) based on architectural design choice from Epic 5.1.\n\n**Reference Material:** See Phase 5 Sync Strategy Gist - Section 6.2: DashText-Specific Recommendations\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd#62-dashtext-specific-recommendations\n\n**Why this matters:** This decision determines DashText's operational patterns, tooling dependencies, and long-term maintenance burden. The choice must align with the architectural design (A/B/C) and complexity budget.\n\n**Key Analysis Points:**\n- Align implementation approach with chosen architectural design\n- Evaluate complexity budget vs benefit for DashText context\n- Assess operational readiness (infrastructure expertise, maintenance capacity)\n- Document decision criteria and rejected alternatives with rationale\n- Consider future evolution paths and migration possibilities\n\n**Success Criteria:** Final implementation approach decision with clear rationale linking back to architectural choice and complexity budget assessment.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T10:50:09.907776406-06:00","updated_at":"2025-12-15T10:50:09.907776406-06:00","dependencies":[{"issue_id":"dashtext-a76","depends_on_id":"dashtext-6d0","type":"parent-child","created_at":"2025-12-15T10:50:25.978004167-06:00","created_by":"daemon"},{"issue_id":"dashtext-a76","depends_on_id":"dashtext-bs6","type":"parent-child","created_at":"2025-12-15T10:50:25.992317154-06:00","created_by":"daemon"}]}
{"id":"dashtext-ah5","title":"Add optional idempotency key support","description":"Add optional idempotency key support to prevent duplicate draft creation on retries. External services can include idempotency key in request, store key with draft for configured time, return existing draft if key reused. This makes the API safe for automation without complex state management. Non-goal: don't build full deduplication system. Acceptance criteria: idempotency key optional, duplicate requests return existing draft, keys expire after time limit, hash collision handling.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:24:11.544993091-06:00","updated_at":"2025-12-15T09:24:11.544993091-06:00","dependencies":[{"issue_id":"dashtext-ah5","depends_on_id":"dashtext-5mj","type":"parent-child","created_at":"2025-12-15T09:24:38.399801816-06:00","created_by":"daemon"}]}
{"id":"dashtext-b60","title":"Create web database module","description":"Create index.ts for web database that lazily initializes sql.js + Drizzle, runs migrations on first connect, exports getDb() matching desktop API.","acceptance_criteria":"- [ ] Lazy initialization of sql.js + Drizzle\\n- [ ] Run migrations on first database connection\\n- [ ] Export getDb() function matching desktop API\\n- [ ] Handle initialization errors gracefully\\n- [ ] Include persistence save triggers","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T15:11:59.334236068-06:00","updated_at":"2025-12-15T17:11:09.161793474-06:00","closed_at":"2025-12-15T17:11:09.161793474-06:00","dependencies":[{"issue_id":"dashtext-b60","depends_on_id":"dashtext-p2x","type":"parent-child","created_at":"2025-12-15T15:12:36.729276408-06:00","created_by":"daemon"},{"issue_id":"dashtext-b60","depends_on_id":"dashtext-dkz","type":"blocks","created_at":"2025-12-15T15:12:50.152358312-06:00","created_by":"daemon"},{"issue_id":"dashtext-b60","depends_on_id":"dashtext-rei","type":"blocks","created_at":"2025-12-15T15:12:50.177383108-06:00","created_by":"daemon"}]}
{"id":"dashtext-bf7","title":"Implement per-token labeling system","description":"Implement per-token labeling system to identify different API clients. Allow users to add custom labels like 'n8n', 'email', 'scripts', store labels with tokens, display labels in ingestion logs, and use labels in source attribution. This makes API management intuitive for multiple use cases. Non-goal: don't build complex categorization system. Acceptance criteria: custom labels configurable, labels persist with tokens, labels shown in logs, clear labeling interface.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:24:22.193847754-06:00","updated_at":"2025-12-15T09:24:22.193847754-06:00","dependencies":[{"issue_id":"dashtext-bf7","depends_on_id":"dashtext-13h","type":"parent-child","created_at":"2025-12-15T09:24:38.478560086-06:00","created_by":"daemon"}]}
{"id":"dashtext-bg6","title":"Design actions data model for declarative configuration","description":"Design and implement the core data model for storing action definitions in a declarative format. This includes database schema for actions (id, name, type, configuration, shortcuts), JSON configuration validation, and migration scripts. The model must support different action types while maintaining a simple, extensible structure that avoids scripting complexity.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:05.713701455-06:00","updated_at":"2025-12-15T09:37:19.067882083-06:00","dependencies":[{"issue_id":"dashtext-bg6","depends_on_id":"dashtext-rby","type":"parent-child","created_at":"2025-12-15T09:38:23.553426201-06:00","created_by":"daemon"}]}
{"id":"dashtext-bs6","title":"Epic 5.2 — Sync Implementation Decision","description":"**Strategic Context:** Choose the implementation approach for sync architecture after design analysis. The implementation decision determines tooling, infrastructure, and operational complexity.\n\n**Why this matters:** Once an implementation approach is chosen (sync engine vs CRDT stack vs hand-rolled), DashText commits to specific operational patterns and complexity maintenance. This decision should be informed by the architectural choice from Epic 5.1.\n\n**Components:**\n- Sync engine options evaluation (ElectricSQL, PowerSync, Replicache)\n- CRDT stack options evaluation (Automerge, Yjs) \n- Hand-rolled Design B implementation requirements assessment\n- Final architecture commitment decision based on design choice\n- Evolution path constraints documentation for long-term planning\n\n**Reference Material:** Phase 5 Sync Strategy Gist - Sections 4, 5\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd\n\n**Non-Goals:** No actual implementation code yet, just decision and planning","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-15T10:49:45.09174012-06:00","updated_at":"2025-12-15T22:44:29.006020313-06:00","closed_at":"2025-12-15T22:44:29.006020313-06:00","dependencies":[{"issue_id":"dashtext-bs6","depends_on_id":"dashtext-qnh","type":"blocks","created_at":"2025-12-15T10:50:28.478462052-06:00","created_by":"daemon"}]}
{"id":"dashtext-by0","title":"Add metadata variables support","description":"Add support for template variables that reference draft metadata. This includes created_at, updated_at, source, source_url, and any custom metadata fields. Variables should format dates appropriately and handle missing metadata gracefully with fallback values.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:58.19133998-06:00","updated_at":"2025-12-15T09:38:08.13174419-06:00","dependencies":[{"issue_id":"dashtext-by0","depends_on_id":"dashtext-hst","type":"parent-child","created_at":"2025-12-15T09:38:34.254684213-06:00","created_by":"daemon"}]}
{"id":"dashtext-d01","title":"Define conflict resolution strategy","description":"**Strategic Context:** Define duplicate-on-conflict strategy. Simple conflict resolution prioritizes data safety over automatic merging.\n\n**Why this matters:** Complex conflict resolution risks data loss and implementation bugs. Duplicate-on-conflict preserves all user data while keeping implementation simple.\n\n**Success Criteria:** Documented conflict strategy that creates duplicates on conflicts, preserving user data","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T09:43:45.575064018-06:00","updated_at":"2025-12-15T10:51:05.525180421-06:00","closed_at":"2025-12-15T10:51:05.525180421-06:00","dependencies":[{"issue_id":"dashtext-d01","depends_on_id":"dashtext-ykh","type":"parent-child","created_at":"2025-12-15T09:44:50.644935138-06:00","created_by":"daemon"}]}
{"id":"dashtext-d2c","title":"Implement core template variables (content, first_line, selection)","description":"Implement the essential template variables that reference draft content. This includes content variable (full draft), first_line variable (first line/heading), selection variable (currently selected text), with proper fallback handling. Variables should be context-aware and work seamlessly across different action types.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:58.148885169-06:00","updated_at":"2025-12-15T09:38:04.49422846-06:00","dependencies":[{"issue_id":"dashtext-d2c","depends_on_id":"dashtext-hst","type":"parent-child","created_at":"2025-12-15T09:38:34.224184251-06:00","created_by":"daemon"}]}
{"id":"dashtext-dkz","title":"Create IndexedDB persistence layer","description":"Implement persist.ts for loading/saving sql.js database to IndexedDB. Includes debounced auto-save (1 second), visibility change handlers, beforeunload handler.","acceptance_criteria":"- [ ] Create persist.ts with loadDatabase/saveDatabase\\n- [ ] Implement debounced auto-save (1 second)\\n- [ ] Add visibility change handler for save on tab hidden\\n- [ ] Add beforeunload handler for emergency save\\n- [ ] Test persistence across page reloads","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T15:11:19.341032421-06:00","updated_at":"2025-12-15T17:11:09.171432701-06:00","closed_at":"2025-12-15T17:11:09.171432701-06:00","dependencies":[{"issue_id":"dashtext-dkz","depends_on_id":"dashtext-p2x","type":"parent-child","created_at":"2025-12-15T15:12:36.630337965-06:00","created_by":"daemon"},{"issue_id":"dashtext-dkz","depends_on_id":"dashtext-7b3","type":"blocks","created_at":"2025-12-15T15:12:43.873361422-06:00","created_by":"daemon"}]}
{"id":"dashtext-du3","title":"Add sync fields to drafts schema","description":"**Context:** Extend current drafts schema with sync-specific fields required by the spec.\n\n**Reference:** history/sync-implementation-spec.md Section 4 \u0026 5\n\n**Current Schema Missing:**\n- `rev` (integer, server-controlled monotonic revision)\n- `dirty` (boolean, tracks local changes pending sync)\n- `title` (text, optional, extracted from content or user-provided)\n- `updated_at` needs to be integer timestamp (currently text)\n\n**Implementation:**\n1. Add migration to add new fields to drafts table\n2. Set defaults: rev=0, dirty=false, title=null, updated_at=unix_timestamp\n3. Update schema.ts with new field definitions\n4. Update API types to include new fields\n\n**Acceptance Criteria:**\n- Migration adds rev, dirty, title fields\n- Migration converts updated_at from text to integer\n- Schema exports include new fields\n- No breaking changes to existing queries","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-15T22:46:02.896798429-06:00","updated_at":"2025-12-15T22:46:02.896798429-06:00","dependencies":[{"issue_id":"dashtext-du3","depends_on_id":"dashtext-3oy","type":"blocks","created_at":"2025-12-15T22:46:23.247028699-06:00","created_by":"daemon"}]}
{"id":"dashtext-dw5","title":"Implement minimal payload validation","description":"Implement minimal payload validation for the POST /api/drafts endpoint. Validate required content field, accept optional metadata fields (source, source_url, created_at), and handle malformed requests gracefully. This ensures API reliability while keeping it simple. Follow the payload example from roadmap as guiding constraint. Acceptance criteria: content field validated, optional metadata accepted, clear error messages for bad requests, malformed payloads rejected.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:24:11.523440743-06:00","updated_at":"2025-12-15T09:24:11.523440743-06:00","dependencies":[{"issue_id":"dashtext-dw5","depends_on_id":"dashtext-5mj","type":"parent-child","created_at":"2025-12-15T09:24:38.381375099-06:00","created_by":"daemon"}]}
{"id":"dashtext-ec6","title":"Create keyboard-first action invocation system","description":"Create a keyboard-first interface for invoking actions quickly. This includes customizable keyboard shortcuts, command palette integration (Cmd/Ctrl+K), quick action menu, and keyboard navigation. Users should be able to trigger actions without touching the mouse, maintaining the vim-friendly workflow of the editor.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:05.84540929-06:00","updated_at":"2025-12-15T09:37:29.526646943-06:00","dependencies":[{"issue_id":"dashtext-ec6","depends_on_id":"dashtext-rby","type":"parent-child","created_at":"2025-12-15T09:38:23.664944464-06:00","created_by":"daemon"}]}
{"id":"dashtext-emi","title":"Remove inline backgroundColor from theme bootstrap","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T18:01:29.106677737-06:00","updated_at":"2025-12-13T18:02:24.707347034-06:00","closed_at":"2025-12-13T18:02:24.707347034-06:00"}
{"id":"dashtext-ffq","title":"Analyze Design A (LWW) suitability for DashText","description":"**Strategic Context:** Determine if simple Last-Write-Wins (LWW) sync matches DashText usage patterns and user expectations.\n\n**Reference Material:** See Phase 5 Sync Strategy Gist - Section 2.1: Design A — Simple Central Store with Last-Write-Wins\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd#2-design-options\n\n**Why this matters:** LWW is the simplest sync approach but risks silent data loss during concurrent edits. Understanding if DashText users typically edit the same draft on multiple devices determines if LWW's simplicity is worth the risk.\n\n**Key Analysis Points:**\n- Concurrent edit frequency assessment for DashText use cases\n- \"Silent overwrite\" failure mode impact on user trust\n- Phone quick edits + desktop longer edits overlap patterns\n- User expectation: \"it just shows up everywhere\" vs data safety\n\n**Success Criteria:** Clear determination if LWW matches DashText usage patterns or if concurrent editing is common enough to require more sophisticated conflict handling.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T10:48:49.417780796-06:00","updated_at":"2025-12-15T10:48:55.396065296-06:00","dependencies":[{"issue_id":"dashtext-ffq","depends_on_id":"dashtext-6d0","type":"parent-child","created_at":"2025-12-15T10:49:28.664913117-06:00","created_by":"daemon"},{"issue_id":"dashtext-ffq","depends_on_id":"dashtext-qnh","type":"parent-child","created_at":"2025-12-15T10:49:31.410662717-06:00","created_by":"daemon"}]}
{"id":"dashtext-fqo","title":"Fix critical CSS to use @media (prefers-color-scheme: dark) fallback","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T18:01:28.568284018-06:00","updated_at":"2025-12-13T18:01:53.715948647-06:00","closed_at":"2025-12-13T18:01:53.715948647-06:00"}
{"id":"dashtext-fv2","title":"Bundle migrations for browser","description":"Configure Vite to import .sql files as raw strings, create migrations.ts that imports and parses migration SQL files by splitting on statement-breakpoint markers.","acceptance_criteria":"- [ ] Configure Vite assetsInclude for .sql files\\n- [ ] Create migrations.ts importing raw SQL files\\n- [ ] Parse and split on '--\u003e statement-breakpoint'\\n- [ ] Export as array matching Drizzle migration format\\n- [ ] Include migration metadata from _journal.json","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T15:11:24.268271014-06:00","updated_at":"2025-12-15T17:11:09.168404351-06:00","closed_at":"2025-12-15T17:11:09.168404351-06:00","dependencies":[{"issue_id":"dashtext-fv2","depends_on_id":"dashtext-p2x","type":"parent-child","created_at":"2025-12-15T15:12:36.658820098-06:00","created_by":"daemon"},{"issue_id":"dashtext-fv2","depends_on_id":"dashtext-j21","type":"blocks","created_at":"2025-12-15T15:12:43.902243-06:00","created_by":"daemon"}]}
{"id":"dashtext-fxi","title":"Build HTTP request action (POST/GET)","description":"Build an HTTP request action that can make GET and POST requests to external APIs. This includes request configuration (URL, headers, body), template variable substitution, response handling, timeout management, and error reporting. Essential for webhooks, API integrations, and automated workflows.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:33.537892848-06:00","updated_at":"2025-12-15T09:37:47.942645191-06:00","dependencies":[{"issue_id":"dashtext-fxi","depends_on_id":"dashtext-t9v","type":"parent-child","created_at":"2025-12-15T09:38:27.397398611-06:00","created_by":"daemon"}]}
{"id":"dashtext-g1a","title":"Add error handling to showWindowWhenReady()","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T18:01:29.700555559-06:00","updated_at":"2025-12-13T18:02:48.538309044-06:00","closed_at":"2025-12-13T18:02:48.538309044-06:00"}
{"id":"dashtext-gyt","title":"Document anchor dependency decision framework","description":"**Strategic Context:** Create a decision framework for choosing which complexity to pay upfront - sync engines, CRDT stacks, or hand-rolled implementation.\n\n**Reference Material:** See Phase 5 Sync Strategy Gist - Section 3: Anchor Dependency Decision Framework\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd#3-anchor-dependency-decision-framework\n\n**Why this matters:** The fundamental truth is you must choose one complexity to pay upfront. This framework ensures DashText makes a conscious architectural commitment rather than accidental complexity growth.\n\n**Key Analysis Points:**\n- Three anchor options: sync engines (Electric/PowerSync/Replicache), CRDT stacks (Automerge/Yjs), hand-rolled Design B\n- Complexity cost assessment for each anchor choice\n- Long-term architectural implications of each commitment\n- \"What you get vs what you pay\" analysis for DashText context\n- Decision matrix forDashText-specific requirements\n\n**Success Criteria:** Complete framework for making conscious architectural commitments that guides the sync design decision process.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T10:49:14.767955153-06:00","updated_at":"2025-12-15T10:49:14.767955153-06:00","dependencies":[{"issue_id":"dashtext-gyt","depends_on_id":"dashtext-6d0","type":"parent-child","created_at":"2025-12-15T10:49:38.290242811-06:00","created_by":"daemon"},{"issue_id":"dashtext-gyt","depends_on_id":"dashtext-qnh","type":"parent-child","created_at":"2025-12-15T10:49:38.304461782-06:00","created_by":"daemon"}]}
{"id":"dashtext-gzy","title":"Evaluate hand-rolled Design B implementation","description":"**Strategic Context:** Assess custom implementation requirements for Design B (optimistic concurrency) sync approach.\n\n**Reference Material:** See Phase 5 Sync Strategy Gist - Section 4.3: Hand-Rolled Design B Implementation\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd#43-hand-rolled-design-b-implementation\n\n**Why this matters:** Hand-rolled implementation provides full architectural control but requires DashText to build and maintain all sync primitives, state management, and conflict handling logic.\n\n**Key Analysis Points:**\n- Required client components: per-draft state tracking, global sync state, outbox management, conflict handling\n- Minimal server components: drafts table, changes table, conditional update endpoints\n- Complexity assessment: High client complexity, Medium server complexity, High bespoke code volume\n- Custom implementation maintenance burden vs architectural autonomy\n- Transaction safety and offline-first behavior requirements\n\n**Success Criteria:** Clear scope of custom implementation requirements and understanding of maintenance burden vs architectural control benefits.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T10:49:59.927692312-06:00","updated_at":"2025-12-15T10:49:59.927692312-06:00","dependencies":[{"issue_id":"dashtext-gzy","depends_on_id":"dashtext-6d0","type":"parent-child","created_at":"2025-12-15T10:50:23.317198411-06:00","created_by":"daemon"},{"issue_id":"dashtext-gzy","depends_on_id":"dashtext-bs6","type":"parent-child","created_at":"2025-12-15T10:50:23.331468297-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s","title":"Phase 1 — Drafts Core (Local Trust \u0026 Capture)","description":"Establish stable local data model, inbox semantics, and capture parity","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:12:04.64727408-06:00","updated_at":"2025-12-15T09:12:04.64727408-06:00","dependencies":[{"issue_id":"dashtext-h9s","depends_on_id":"dashtext-p2x","type":"parent-child","created_at":"2025-12-15T15:10:49.152556384-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.1","title":"Epic 1.1 — Core Data Model Hardening","description":"Core Data Model Hardening with dual-ID strategy: Keep existing auto-incrementing integer IDs unchanged, add public UUID field for sync. Centralized UUID generation via crypto.randomUUID() in lib package (client-side desktop, server-side web). Database generates UUIDs for existing data only. Public APIs expose UUID only, gradual route migration from integer to UUID-based routes. Add soft delete (deleted_at), archive state, and single pin constraint. Safe migration with rollback capability.","status":"in_progress","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:12:08.444732903-06:00","updated_at":"2025-12-15T12:35:43.261148278-06:00","dependencies":[{"issue_id":"dashtext-h9s.1","depends_on_id":"dashtext-h9s","type":"parent-child","created_at":"2025-12-15T09:12:08.44724075-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.1.1","title":"Implement soft delete functionality","description":"Implement soft delete functionality with deleted_at column for dual-ID schema. Expose both archive and delete operations to users. Soft delete sets deleted_at timestamp, hardDelete permanently removes. Add restore() method. Update all queries to filter out deleted_at IS NOT NULL drafts. Acceptance criteria: soft delete marks deleted_at timestamp, deleted drafts don't appear in default lists, restore functionality works, both soft and hard delete available in UI, all queries respect soft delete filter.","status":"in_progress","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:17.854765133-06:00","updated_at":"2025-12-15T12:35:24.301457485-06:00","dependencies":[{"issue_id":"dashtext-h9s.1.1","depends_on_id":"dashtext-h9s.1","type":"parent-child","created_at":"2025-12-15T09:12:17.85647412-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.1.10","title":"Add pinned flag for drafts","description":"Add pinned flag to dual-ID schema with single constraint. Only one draft can be pinned at a time - automatically unpin others when pinning new draft. Add pin() and unpin() API methods with constraint enforcement. Update queries to sort pinned drafts first. Acceptance criteria: pinned field defaults to false, single pin constraint enforced, pinned drafts appear at top of lists, pin/unpin methods enforce constraint.","status":"in_progress","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:28.790502276-06:00","updated_at":"2025-12-15T12:35:38.833713474-06:00","dependencies":[{"issue_id":"dashtext-h9s.1.10","depends_on_id":"dashtext-h9s.1","type":"parent-child","created_at":"2025-12-15T09:12:28.792714861-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.1.11","title":"Create safe migration system for schema changes","description":"Implement safe migration system using Drizzle migrations for dual-ID schema. Create migration that adds uuid, deleted_at, archived, pinned columns without touching existing integer primary key. Database generates UUIDs for existing drafts via randomblob() (one-time), new UUIDs generated server-side (web) or client-side (desktop) using crypto.randomUUID() with centralized lib function. Add rollback migration. Acceptance criteria: migration preserves all existing data, UUID generation centralized in lib package, rollback works.","status":"in_progress","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:31.515087739-06:00","updated_at":"2025-12-15T12:35:08.690739296-06:00","dependencies":[{"issue_id":"dashtext-h9s.1.11","depends_on_id":"dashtext-h9s.1","type":"parent-child","created_at":"2025-12-15T09:12:31.517283082-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.1.2","title":"Create safe migration system for schema changes","description":"","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:17.8618063-06:00","updated_at":"2025-12-15T09:19:52.530961105-06:00","closed_at":"2025-12-15T09:19:52.530961105-06:00"}
{"id":"dashtext-h9s.1.3","title":"Implement stable UUID generation for drafts","description":"","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:17.860319772-06:00","updated_at":"2025-12-15T09:19:52.533552363-06:00","closed_at":"2025-12-15T09:19:52.533552363-06:00"}
{"id":"dashtext-h9s.1.4","title":"Add archived boolean field","description":"","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:17.864406637-06:00","updated_at":"2025-12-15T09:19:52.535194486-06:00","closed_at":"2025-12-15T09:19:52.535194486-06:00"}
{"id":"dashtext-h9s.1.5","title":"Add created_at and updated_at timestamps","description":"","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:17.864786058-06:00","updated_at":"2025-12-15T09:19:52.536739792-06:00","closed_at":"2025-12-15T09:19:52.536739792-06:00","dependencies":[{"issue_id":"dashtext-h9s.1.5","depends_on_id":"dashtext-h9s.1","type":"parent-child","created_at":"2025-12-15T09:12:17.869983936-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.1.6","title":"Add pinned flag for drafts","description":"","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:17.866259763-06:00","updated_at":"2025-12-15T09:19:52.538178974-06:00","closed_at":"2025-12-15T09:19:52.538178974-06:00"}
{"id":"dashtext-h9s.1.7","title":"Implement stable UUID generation for drafts","description":"Implement dual-ID system: keep existing auto-incrementing integer IDs unchanged, add public UUID field. New UUIDs generated by crypto.randomUUID() from centralized lib function: client-side in desktop backend, server-side in web SvelteKit. Migration generates UUIDs for existing drafts via randomblob(). Update API responses to use UUID only while keeping internal integer IDs. Acceptance criteria: all drafts have both ID and UUID, centralized UUID generation, public APIs expose only UUID.","status":"in_progress","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:20.580515437-06:00","updated_at":"2025-12-15T12:35:14.06893938-06:00","dependencies":[{"issue_id":"dashtext-h9s.1.7","depends_on_id":"dashtext-h9s.1","type":"parent-child","created_at":"2025-12-15T09:12:20.584076555-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.1.8","title":"Add created_at and updated_at timestamps","description":"Add and validate created_at and updated_at timestamp fields for dual-ID schema. Timestamps essential for Phase 5 sync to determine draft version conflicts. Ensure ISO timestamp consistency across platforms. No changes needed to existing timestamp fields - just validate they work correctly with dual-ID migration. Acceptance criteria: timestamps auto-set on creation/update, existing timestamps preserved, timezone handling consistent across platforms, sync-ready format.","status":"in_progress","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:23.548969546-06:00","updated_at":"2025-12-15T12:35:18.667333819-06:00","dependencies":[{"issue_id":"dashtext-h9s.1.8","depends_on_id":"dashtext-h9s.1","type":"parent-child","created_at":"2025-12-15T09:12:23.550996992-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.1.9","title":"Add archived boolean field","description":"Add archived boolean field to dual-ID schema for inbox semantics. Archive hides drafts from active views while preserving them. Update queries to filter archived drafts from default views. Add archive() and unarchive() API methods. Acceptance criteria: archived field defaults to false, archived drafts queryable but hidden from default views, archive/unarchive methods work correctly, inbox semantics implemented.","status":"in_progress","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:26.004845364-06:00","updated_at":"2025-12-15T12:35:29.636633728-06:00","dependencies":[{"issue_id":"dashtext-h9s.1.9","depends_on_id":"dashtext-h9s.1","type":"parent-child","created_at":"2025-12-15T09:12:26.007943006-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.2","title":"Epic 1.2 — Inbox Semantics","description":"Inbox Semantics - Implement lightweight processing workflow without becoming a full GTD system. This adds default Inbox view, keyboard-first Archive action, filtered views, and hides archived content. Non-goals: no priorities, no due dates, no task management. Purpose: allow drafts to be processed without data loss, following Drafts app behavior where archived drafts are kept but hidden from active processing.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:12:11.016594321-06:00","updated_at":"2025-12-15T09:18:21.21492775-06:00","dependencies":[{"issue_id":"dashtext-h9s.2","depends_on_id":"dashtext-h9s","type":"parent-child","created_at":"2025-12-15T09:12:11.019350693-06:00","created_by":"daemon"},{"issue_id":"dashtext-h9s.2","depends_on_id":"dashtext-p2x","type":"blocks","created_at":"2025-12-15T15:12:57.272529475-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.2.1","title":"Set Inbox as default view on app start","description":"Set Inbox as the default view on app start to enable frictionless capture, following Drafts app behavior where new drafts go to Inbox. This ensures DashText becomes the default intake everywhere. Update routing and draft store initialization. Acceptance criteria: app opens to Inbox view, new drafts default to Inbox, capture remains frictionless.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:35.106245956-06:00","updated_at":"2025-12-15T09:18:54.78803138-06:00","dependencies":[{"issue_id":"dashtext-h9s.2.1","depends_on_id":"dashtext-h9s.2","type":"parent-child","created_at":"2025-12-15T09:12:35.108482651-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.2.2","title":"Implement Archive action for drafts","description":"Implement keyboard-first Archive action to move drafts out of Inbox without deletion, following Drafts app behavior. This enables lightweight processing without becoming a full GTD system. Add keyboard shortcut (Cmd+Shift+A) and UI action. Acceptance criteria: Archive action moves draft to archived state, keyboard shortcut works, archived drafts stay accessible.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:37.630664823-06:00","updated_at":"2025-12-15T09:18:58.225724629-06:00","dependencies":[{"issue_id":"dashtext-h9s.2.2","depends_on_id":"dashtext-h9s.2","type":"parent-child","created_at":"2025-12-15T09:12:37.632479622-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.2.3","title":"Create Inbox-only filtered view","description":"Create Inbox-only filtered view to focus on unprocessed drafts, following Drafts app behavior where working drafts are separated from processed content. This enables lightweight processing workflow. Add filtered view and navigation. Acceptance criteria: filtered view shows only unarchived drafts, navigation includes Inbox filter, processed drafts are hidden.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:39.850217696-06:00","updated_at":"2025-12-15T09:19:02.164258125-06:00","dependencies":[{"issue_id":"dashtext-h9s.2.3","depends_on_id":"dashtext-h9s.2","type":"parent-child","created_at":"2025-12-15T09:12:39.852859865-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.2.4","title":"Hide archived drafts from main views","description":"Hide archived drafts from main views to reduce clutter, following Drafts app behavior where processed content moves to background. This enables users to focus on active processing without losing data. Update queries and UI components. Acceptance criteria: archived drafts don't appear in main lists, archived content remains accessible in drafts store, processed drafts background cleanly.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:42.84076526-06:00","updated_at":"2025-12-15T09:19:05.589148156-06:00","dependencies":[{"issue_id":"dashtext-h9s.2.4","depends_on_id":"dashtext-h9s.2","type":"parent-child","created_at":"2025-12-15T09:12:42.842483505-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.2.5","title":"Make pin feature optional/inbox-only","description":"Make pin feature optional/inbox-only to maintain focus on active processing, following Drafts app behavior where pinning is primarily for active drafts. This prevents pinning from becoming a task management system. Update UI and behavior. Acceptance criteria: pinning only works on Inbox drafts, pinned drafts stay visible without distraction, pin behavior doesn't create task management.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:45.301062672-06:00","updated_at":"2025-12-15T09:19:11.349349566-06:00","dependencies":[{"issue_id":"dashtext-h9s.2.5","depends_on_id":"dashtext-h9s.2","type":"parent-child","created_at":"2025-12-15T09:12:45.303983918-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.3","title":"Epic 1.3 — Capture Parity (Manual)","description":"Capture Parity - Make DashText the default intake everywhere by matching Drafts app behavior. This includes desktop quick-capture, web capture route, mobile optimization, consistent save semantics, and keyboard shortcuts. Goal: never hesitate about where to capture something. Non-goals: no sync yet, no automation. This is critical because DashText must become the best possible place for things to land - only later does it become a place things leave from.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:12:13.777069972-06:00","updated_at":"2025-12-15T09:18:26.786061382-06:00","dependencies":[{"issue_id":"dashtext-h9s.3","depends_on_id":"dashtext-h9s","type":"parent-child","created_at":"2025-12-15T09:12:13.779977854-06:00","created_by":"daemon"},{"issue_id":"dashtext-h9s.3","depends_on_id":"dashtext-p2x","type":"blocks","created_at":"2025-12-15T15:12:57.3066955-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.3.1","title":"Implement desktop quick-capture workflow with platform-specific hotkeys","description":"**Strategic Context:** Implement desktop quick-capture workflow using platform-specific hotkey detection to make DashText the default intake everywhere. macOS/Windows use Tauri Global Shortcut plugin, Linux uses evdev to bypass Wayland and tiling WM limitations.\n\n**Why this matters:** Tauri Global Shortcut has fundamental limitations on Linux Wayland and poor tiling WM integration. evdev provides reliable cross-platform hotkey detection that works on all Linux desktop environments.\n\n**Platform-Specific Implementation:**\n- **macOS/Windows:** Tauri Global Shortcut plugin (Cmd+Shift+C)\n- **Linux X11:** Tauri Global Shortcut plugin (Ctrl+Shift+C) \n- **Linux Wayland/Tiling WMs:** evdev-based detection (Ctrl+Shift+C)\n- **Linux Permissions:** User must be in input group for evdev access\n\n**Implementation Requirements:**\n- Platform detection in Rust backend\n- Tauri Global Shortcut integration for cross-platform support\n- evdev-shortcut crate for Linux-specific implementation\n- Unified hotkey registration API across platforms\n- Capture window creation and focus management\n\n**Linux-Specific Considerations:**\n- Input group requirement: `sudo usermod -aG input josh`\n- Graceful fallback when permissions missing\n- Works on Wayland compositors (Hyprland, Sway, GNOME, i3, bspwm)\n- Compatible with tiling window managers\n- Clear user guidance for permission setup\n\n**Dependencies:** \n- NEW: Linux evdev Hotkey Foundation (dashtext-9x5)\n- Platform detection module\n- Tauri Global Shortcut plugin integration\n- evdev implementation for Linux\n\n**Acceptance Criteria:**\n- Global hotkey creates capture window on all platforms\n- Linux Wayland and tiling WM support verified\n- Clear user guidance for Linux permissions\n- Platform-specific implementations work correctly","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:47.52870301-06:00","updated_at":"2025-12-15T11:36:43.756664732-06:00","dependencies":[{"issue_id":"dashtext-h9s.3.1","depends_on_id":"dashtext-h9s.3","type":"parent-child","created_at":"2025-12-15T09:12:47.531499081-06:00","created_by":"daemon"},{"issue_id":"dashtext-h9s.3.1","depends_on_id":"dashtext-9x5","type":"discovered-from","created_at":"2025-12-15T11:36:59.683949239-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.3.2","title":"Create web /capture route for quick drafts","description":"Create web /capture route with minimal UI to make DashText the default intake everywhere, following Drafts app behavior. This enables browser-based capture without full app. Add SvelteKit route and minimal capture interface. Acceptance criteria: /capture route loads quickly, minimal UI for fast drafting, captured drafts save to Inbox automatically.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:49.605612041-06:00","updated_at":"2025-12-15T09:19:23.930630504-06:00","dependencies":[{"issue_id":"dashtext-h9s.3.2","depends_on_id":"dashtext-h9s.3","type":"parent-child","created_at":"2025-12-15T09:12:49.607905202-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.3.3","title":"Make capture interface mobile-friendly","description":"Make capture interface mobile-friendly to ensure cross-platform parity, following Drafts app behavior where capture works equally well on mobile. This includes responsive design, touch-friendly controls, and mobile keyboard optimization. Acceptance criteria: capture interface works on mobile browsers, touch controls are intuitive, mobile keyboard doesn't cover content.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:51.607334759-06:00","updated_at":"2025-12-15T09:19:28.256734654-06:00","dependencies":[{"issue_id":"dashtext-h9s.3.3","depends_on_id":"dashtext-h9s.3","type":"parent-child","created_at":"2025-12-15T09:12:51.609315871-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.3.4","title":"Ensure consistent save/close behavior across platforms","description":"Implement consistent save/close behavior across platforms following Drafts app behavior where save automatically happens and close doesn't lose data. This ensures users can trust DashText as their default intake. Update window management and auto-save logic. Acceptance criteria: drafts save automatically, close doesn't lose work, behavior consistent across desktop/web.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:53.67422278-06:00","updated_at":"2025-12-15T09:19:33.432526777-06:00","dependencies":[{"issue_id":"dashtext-h9s.3.4","depends_on_id":"dashtext-h9s.3","type":"parent-child","created_at":"2025-12-15T09:12:53.676705348-06:00","created_by":"daemon"}]}
{"id":"dashtext-h9s.3.5","title":"Add platform-specific keyboard shortcuts for capture","description":"**Strategic Context:** Add keyboard shortcuts for capture using platform-specific global hotkey detection to achieve Drafts app capture parity. Linux uses evdev for reliable hotkey detection across Wayland and tiling WMs.\n\n**Implementation Details:**\n- **Global Capture Hotkey:** Opens capture window (platform-specific backend)\n  - macOS/Windows: Cmd+Shift+C (Tauri Global Shortcut)\n  - Linux: Ctrl+Shift+C (evdev-based)\n- **In-Window Shortcuts:** Standard editor shortcuts (platform-agnostic)\n  - Cmd/Ctrl+Enter: Save and close capture\n  - Esc: Cancel capture\n  - Double-Esc: Force close capture\n\n**Platform-Specific Hotkey Backend:**\n- **Cross-platform trait:** HotkeyManager interface for unified API\n- **TauriHotkeyManager:** Uses @tauri-apps/plugin-global-shortcut for macOS/Windows\n- **EvdevHotkeyManager:** Uses evdev-shortcut crate for Linux\n- **Permission checking:** Linux input group validation with user guidance\n\n**Linux Integration:**\n- evdev works on Wayland compositors (no X11 dependencies)\n- Compatible with tiling window managers (i3, Sway, Hyprland, bspwm)\n- Input group requirement with clear setup instructions\n- Graceful error handling when permissions insufficient\n- Support for Hyprland, Sway, GNOME, i3, bspwm\n\n**Dependencies:**\n- UPDATED: Desktop quick-capture workflow (dashtext-h9s.3.1)\n- In-Window Shortcut Implementation\n- Cross-Platform Shortcut API\n\n**Acceptance Criteria:**\n- Cmd/Ctrl+Shift+C opens capture globally on all platforms\n- In-window shortcuts work consistently across platforms\n- Linux Wayland and tiling WM support verified\n- Clear permission guidance provided for Linux users\n- evdev crate integration stable and performant","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:12:55.855470956-06:00","updated_at":"2025-12-15T11:36:53.223795158-06:00","dependencies":[{"issue_id":"dashtext-h9s.3.5","depends_on_id":"dashtext-h9s.3","type":"parent-child","created_at":"2025-12-15T09:12:55.857806961-06:00","created_by":"daemon"},{"issue_id":"dashtext-h9s.3.5","depends_on_id":"dashtext-h9s.3.1","type":"discovered-from","created_at":"2025-12-15T11:37:03.404134229-06:00","created_by":"daemon"}]}
{"id":"dashtext-hok","title":"Analyze Design C (CRDT) complexity vs benefits","description":"**Strategic Context:** Assess CRDT-based sync (Design C) for DashText, weighing automatic merging benefits against implementation and operational complexity.\n\n**Reference Material:** See Phase 5 Sync Strategy Gist - Section 2.3: Design C — CRDT-Based Oplog with Server Relay\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd#23-design-c--crdt-based-oplog-with-server-relay\n\n**Why this matters:** CRDT offers automatic merging and real-time collaboration potential, but requires significant storage overhead, update management, and integration complexity with CodeMirror.\n\n**Key Analysis Points:**\n- CRDT library integration challenges (Automerge vs Yjs vs custom)\n- Storage overhead (updates, compaction, snapshots)\n- Cross-platform compatibility (Rust desktop + Svelte web)\n- Automatic merge benefits vs implementation costs\n- Real-time collaboration readiness vs complexity budget\n\n**Success Criteria:** Clear assessment of CRDT's total cost of ownership for DashText and whether automatic merging justifies the complexity.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T10:49:08.320860391-06:00","updated_at":"2025-12-15T10:49:08.320860391-06:00","dependencies":[{"issue_id":"dashtext-hok","depends_on_id":"dashtext-6d0","type":"parent-child","created_at":"2025-12-15T10:49:38.259844739-06:00","created_by":"daemon"},{"issue_id":"dashtext-hok","depends_on_id":"dashtext-qnh","type":"parent-child","created_at":"2025-12-15T10:49:38.275094491-06:00","created_by":"daemon"}]}
{"id":"dashtext-hst","title":"Epic 4.3 — Templating \u0026 Variables (Dynamic Content)","description":"Add templating and variable support to enable dynamic content generation in actions. This allows actions to use draft content, metadata, and apply transformations like URL encoding or JSON escaping for real-world integration scenarios.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:36:51.901621566-06:00","updated_at":"2025-12-15T09:36:56.123488618-06:00","dependencies":[{"issue_id":"dashtext-hst","depends_on_id":"dashtext-ht6","type":"parent-child","created_at":"2025-12-15T09:37:01.99481619-06:00","created_by":"daemon"}]}
{"id":"dashtext-ht6","title":"Phase 4 — Actions (Outbound Power)","description":"Now that capture is nailed, actions are safe to add. This phase restores Drafts' second superpower: getting text out of DashText through a declarative actions framework that enables outbound automation without becoming a platform.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:36:45.657375206-06:00","updated_at":"2025-12-15T09:36:48.490593499-06:00"}
{"id":"dashtext-ic0","title":"Evaluate CRDT stack options","description":"**Strategic Context:** Assess CRDT stack options (Automerge, Yjs) for DashText sync implementation.\n\n**Reference Material:** See Phase 5 Sync Strategy Gist - Section 4.2: CRDT Stack Options Deep Dive\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd#42-crdt-stack-options-deep-dive\n\n**Why this matters:** CRDT stacks offer automatic merging and real-time collaboration potential, but require significant integration complexity and cross-platform consistency management.\n\n**Key Analysis Points:**\n- Automerge: JSON-based CRDT documents, built-in sync protocol, Rust/JS cross-platform support\n- Yjs: Text-focused CRDT, excellent CodeMirror integration, JavaScript-first ecosystem\n- Integration requirements with existing CodeMirror editor\n- Cross-platform compatibility (Rust desktop + Svelte web)\n- Real-time collaboration readiness vs complexity budget\n\n**Success Criteria:** Understanding of CRDT implementation requirements and whether automatic merging justifies the integration complexity for DashText.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T10:49:54.998440182-06:00","updated_at":"2025-12-15T10:49:54.998440182-06:00","dependencies":[{"issue_id":"dashtext-ic0","depends_on_id":"dashtext-6d0","type":"parent-child","created_at":"2025-12-15T10:50:20.428370992-06:00","created_by":"daemon"},{"issue_id":"dashtext-ic0","depends_on_id":"dashtext-bs6","type":"parent-child","created_at":"2025-12-15T10:50:20.443337748-06:00","created_by":"daemon"}]}
{"id":"dashtext-ius","title":"Add navigation handling to EditorLayout","description":"Implement explicit navigation handling in EditorLayout to call platform.navigateTo and platform.replaceUrl based on hints returned from DraftsState operations. This moves navigation decisions to the component layer where they belong, while DraftsState focuses purely on data management.","notes":"COMPLETED: Added explicit navigation handling to EditorLayout and updated all components that call DraftsState methods. BaseWinBar now uses navigation handlers from context. Page components use navigation handlers for flushPendingSave. Clean separation maintained.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T13:10:51.694137841-06:00","updated_at":"2025-12-15T13:51:29.895467934-06:00","closed_at":"2025-12-15T13:51:29.895467934-06:00","dependencies":[{"issue_id":"dashtext-ius","depends_on_id":"dashtext-rsb","type":"blocks","created_at":"2025-12-15T13:11:13.950094882-06:00","created_by":"daemon"}]}
{"id":"dashtext-j21","title":"Move schema to shared lib","description":"Move Drizzle schema from packages/desktop/src/lib/db/schema.ts to packages/lib/src/db/schema.ts and update desktop imports. Export from @dashtext/lib/db package.","acceptance_criteria":"- [ ] Create packages/lib/src/db/schema.ts with schema\\n- [ ] Update lib package.json exports for db module\\n- [ ] Update desktop imports to use @dashtext/lib/db\\n- [ ] Desktop builds and runs correctly\\n- [ ] Verify no regression in desktop functionality","notes":"Completed: Created @dashtext/lib/db/schema.ts, updated lib package.json exports, updated desktop imports to use shared schema. Desktop builds and runs correctly with shared schema. Next: Fix capture route ID type issues when implementing web backend.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T15:11:03.870175746-06:00","updated_at":"2025-12-15T15:26:20.908550401-06:00","closed_at":"2025-12-15T15:26:20.908556733-06:00","dependencies":[{"issue_id":"dashtext-j21","depends_on_id":"dashtext-p2x","type":"parent-child","created_at":"2025-12-15T15:12:36.575247576-06:00","created_by":"daemon"}]}
{"id":"dashtext-mni","title":"Create template filters (url_encode, json_escape, truncate)","description":"Create template filters for transforming variables before use. This includes url_encode (for URLs), html_escape (for web content), json_escape (for APIs), truncate (for length limits), and date formatting. Filters should be chainable and handle edge cases gracefully.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:58.234403249-06:00","updated_at":"2025-12-15T09:38:12.871003417-06:00","dependencies":[{"issue_id":"dashtext-mni","depends_on_id":"dashtext-hst","type":"parent-child","created_at":"2025-12-15T09:38:34.287623093-06:00","created_by":"daemon"}]}
{"id":"dashtext-o63","title":"Add basic ingestion logs and last-seen indicator","description":"Add basic ingestion logs and last-seen indicator to track API usage. Show recent API submissions, display timestamp of last successful request per token, log basic request metadata, and provide simple log viewing interface. This helps users understand API activity without complex monitoring. Non-goal: don't build comprehensive analytics system. Acceptance criteria: recent submissions visible, last-seen timestamps accurate, basic request metadata logged, simple log interface.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:24:22.210726562-06:00","updated_at":"2025-12-15T09:24:22.210726562-06:00","dependencies":[{"issue_id":"dashtext-o63","depends_on_id":"dashtext-13h","type":"parent-child","created_at":"2025-12-15T09:24:38.492420444-06:00","created_by":"daemon"}]}
{"id":"dashtext-oug","title":"Analyze Design B (optimistic concurrency) trade-offs","description":"**Strategic Context:** Evaluate Design B's optimistic concurrency approach for DashText sync, balancing reliability gains against implementation complexity.\n\n**Reference Material:** See Phase 5 Sync Strategy Gist - Section 2.2: Design B — Central Server with Optimistic Concurrency\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd#22-design-b--central-server-with-optimistic-concurrency\n\n**Why this matters:** Design B prevents silent data loss through conditional updates and explicit conflicts, but requires significant client state management and conflict handling logic.\n\n**Key Analysis Points:**\n- Required client state tracking (revisions, outbox, local state)\n- Conflict copy frequency patterns and user experience impact\n- Implementation complexity vs data safety gains\n- Server-side conditional update complexity\n- Delete/archive race condition handling\n\n**Success Criteria:** Clear understanding of Design B's operational complexity and whether conflict copies are acceptable for DashText users.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T10:49:01.44911822-06:00","updated_at":"2025-12-15T10:49:01.44911822-06:00","dependencies":[{"issue_id":"dashtext-oug","depends_on_id":"dashtext-6d0","type":"parent-child","created_at":"2025-12-15T10:49:34.907457409-06:00","created_by":"daemon"},{"issue_id":"dashtext-oug","depends_on_id":"dashtext-qnh","type":"parent-child","created_at":"2025-12-15T10:49:34.9213795-06:00","created_by":"daemon"}]}
{"id":"dashtext-p2x","title":"Epic 1.1b — Unified SQLite Data Layer","description":"Replace web's IndexedDB implementation with sql.js + Drizzle, sharing schema with desktop. Both platforms will use SQLite with identical Drizzle queries. This unifies the data layer before adding Inbox Semantics or Capture features.\n\nDesign:\n- Move Drizzle schema from desktop to @dashtext/lib/db\n- Use sql.js (SQLite WASM) for web with drizzle-orm/sql-js adapter  \n- Persist sql.js database to IndexedDB as binary blob (debounced saves)\n- Bundle migration SQL via Vite ?raw imports\n- Custom browser migration runner (~30 lines)\n- Rewrite web backend.ts using Drizzle (~100 lines vs current ~500)\n- No existing user data migration needed (pre-alpha)\n\nAcceptance Criteria:\n- [ ] Single schema definition in @dashtext/lib/db/schema.ts\n- [ ] Desktop builds and runs using shared schema\n- [ ] Web uses sql.js + Drizzle with same query patterns as desktop\n- [ ] Web persists data across page reloads\n- [ ] Web runs migrations on fresh database\n- [ ] Old IndexedDB code removed, idb dependency removed\n- [ ] Both platforms pass manual CRUD testing","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-15T15:10:40.988987056-06:00","updated_at":"2025-12-15T17:30:41.098585536-06:00","closed_at":"2025-12-15T17:30:41.098585536-06:00"}
{"id":"dashtext-pkz","title":"Wire up and integration test","description":"Update packages/web/src/lib/api/index.ts to use new backend, test all CRUD operations, test persistence across reloads, test migrations run correctly.","acceptance_criteria":"- [ ] Update web api/index.ts to use new backend\\n- [ ] Test create, read, update, delete operations\\n- [ ] Test persistence across page reloads\\n- [ ] Test migrations run on fresh database\\n- [ ] Verify data consistency with desktop","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T15:12:19.105018237-06:00","updated_at":"2025-12-15T17:30:40.652804895-06:00","closed_at":"2025-12-15T17:30:40.652804895-06:00","dependencies":[{"issue_id":"dashtext-pkz","depends_on_id":"dashtext-p2x","type":"parent-child","created_at":"2025-12-15T15:12:36.797364266-06:00","created_by":"daemon"},{"issue_id":"dashtext-pkz","depends_on_id":"dashtext-2mv","type":"blocks","created_at":"2025-12-15T15:12:50.225441471-06:00","created_by":"daemon"}]}
{"id":"dashtext-qbc","title":"Decide server authority model","description":"**Strategic Context:** Decide server authority model for conflict resolution. Server determines truth during conflicts.\n\n**Why this matters:** Clear authority model prevents ambiguous conflict resolution. Server-side authority enables consistent behavior across devices.\n\n**Success Criteria:** Decision on server authority model documented in sync strategy","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T09:43:47.555902611-06:00","updated_at":"2025-12-15T10:51:05.544355112-06:00","closed_at":"2025-12-15T10:51:05.544355112-06:00","dependencies":[{"issue_id":"dashtext-qbc","depends_on_id":"dashtext-ykh","type":"parent-child","created_at":"2025-12-15T09:44:53.250454861-06:00","created_by":"daemon"}]}
{"id":"dashtext-qnh","title":"Epic 5.1 — Sync Architecture Deep Analysis","description":"**Strategic Context:** Conduct comprehensive analysis of sync architecture options before implementation. Strategy first prevents costly rewrites and ensures simple, reliable sync that doesn't undermine capture focus.\n\n**Why this matters:** Rushing into sync implementation without fully understanding the trade-offs leads to architectural debt and potential rewrites. DashText must make conscious architectural commitments rather than accidental complexity choices.\n\n**Components:**\n- Design A (LWW) suitability analysis for DashText usage patterns\n- Design B (optimistic concurrency) trade-offs and complexity assessment  \n- Design C (CRDT) complexity vs benefits evaluation\n- Anchor dependency decision framework for complexity choices\n- Final architecture commitment with evolution path documentation\n\n**Reference Material:** Phase 5 Sync Strategy Gist - Sections 2, 3, 6\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd\n\n**Non-Goals:** No implementation decisions yet, no code writing during this phase","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-15T10:49:25.768235538-06:00","updated_at":"2025-12-15T22:44:28.166075282-06:00","closed_at":"2025-12-15T22:44:28.166075282-06:00"}
{"id":"dashtext-r77","title":"Build action test/preview UI","description":"Build a test/preview interface for actions that shows users what will happen before execution. This includes variable substitution preview, template rendering, error simulation, and dry-run mode. Users should be able to validate their action configurations and see exact output before running.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:58.277286707-06:00","updated_at":"2025-12-15T09:38:17.681380571-06:00","dependencies":[{"issue_id":"dashtext-r77","depends_on_id":"dashtext-hst","type":"parent-child","created_at":"2025-12-15T09:38:34.326186791-06:00","created_by":"daemon"}]}
{"id":"dashtext-rby","title":"Epic 4.1 — Actions Framework (Declarative Foundation)","description":"Establish the foundational actions framework with declarative configuration, abstract runner system, and robust error handling. This provides the core infrastructure for all outbound actions while maintaining simplicity and avoiding scripting complexity.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:36:51.839427402-06:00","updated_at":"2025-12-15T09:36:56.051780705-06:00","dependencies":[{"issue_id":"dashtext-rby","depends_on_id":"dashtext-ht6","type":"parent-child","created_at":"2025-12-15T09:37:01.915045106-06:00","created_by":"daemon"}]}
{"id":"dashtext-rei","title":"Create browser migration runner","description":"Create migrate.ts that creates __drizzle_migrations table, checks applied migrations, runs pending migrations, tracks by migration tag/hash.","acceptance_criteria":"- [ ] Create __drizzle_migrations table if not exists\\n- [ ] Query applied migrations from table\\n- [ ] Run pending migrations in order\\n- [ ] Track migration completion by hash/tag\\n- [ ] Handle migration errors gracefully","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T15:11:28.631720178-06:00","updated_at":"2025-12-15T17:11:09.16522722-06:00","closed_at":"2025-12-15T17:11:09.16522722-06:00","dependencies":[{"issue_id":"dashtext-rei","depends_on_id":"dashtext-p2x","type":"parent-child","created_at":"2025-12-15T15:12:36.693448606-06:00","created_by":"daemon"},{"issue_id":"dashtext-rei","depends_on_id":"dashtext-fv2","type":"blocks","created_at":"2025-12-15T15:12:43.931528741-06:00","created_by":"daemon"}]}
{"id":"dashtext-rg7","title":"Create minimal API documentation with examples","description":"Create minimal API documentation with working examples to enable external integration. Document POST /api/drafts endpoint, payload format, authentication method, error responses, and provide curl/n8n/script examples. Keep it minimal but sufficient for external developers. Non-goal: don't build comprehensive API reference site. Acceptance criteria: endpoint documented, payload format shown, auth method explained, working examples provided, error responses documented.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:24:11.594330864-06:00","updated_at":"2025-12-15T09:24:11.594330864-06:00","dependencies":[{"issue_id":"dashtext-rg7","depends_on_id":"dashtext-5mj","type":"parent-child","created_at":"2025-12-15T09:24:38.435148693-06:00","created_by":"daemon"}]}
{"id":"dashtext-rhb","title":"Accept plain-text POST bodies for simple content","description":"Accept plain-text POST bodies for simple content creation without JSON wrapper. Enable direct text submission to /api/drafts endpoint, use request body as draft content, parse content-length header properly, and handle encoding gracefully. This makes the API accessible from simple tools like curl without JSON construction. Acceptance criteria: plain-text submissions work, content used as draft body, proper encoding handling, simple tool integration.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-15T09:24:31.771854618-06:00","updated_at":"2025-12-15T09:24:31.771854618-06:00","dependencies":[{"issue_id":"dashtext-rhb","depends_on_id":"dashtext-5ub","type":"parent-child","created_at":"2025-12-15T09:24:38.533259394-06:00","created_by":"daemon"}]}
{"id":"dashtext-rsb","title":"Remove API adapter complexity from EditorLayout","description":"Eliminate the 60+ line apiAdapter in EditorLayout that maps between DraftsAPI and DraftAPI interfaces. Pass platform.draftsAPI directly to createDraftsState and handle navigation explicitly using platform methods. This removes unnecessary abstraction layer and maintenance overhead.","notes":"COMPLETED: Removed 60+ line apiAdapter from EditorLayout.svelte. Now uses platform.draftsAPI directly with createDraftsState(). Added navigation handling functions that call platform methods based on hints from DraftsState. Eliminated unnecessary abstraction layer.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T13:10:41.520757564-06:00","updated_at":"2025-12-15T13:45:36.863783405-06:00","closed_at":"2025-12-15T13:45:36.863783405-06:00","dependencies":[{"issue_id":"dashtext-rsb","depends_on_id":"dashtext-h9s.1","type":"discovered-from","created_at":"2025-12-15T13:10:57.81060265-06:00","created_by":"daemon"},{"issue_id":"dashtext-rsb","depends_on_id":"dashtext-6en","type":"blocks","created_at":"2025-12-15T13:11:17.187861413-06:00","created_by":"daemon"}]}
{"id":"dashtext-si3","title":"Document chosen evolution path constraints","description":"**Strategic Context:** Document what becomes hard to change after committing to chosen sync architecture and implementation approach.\n\n**Reference Material:** See Phase 5 Sync Strategy Gist - Section 5: Evolution Path Constraints\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd#5-evolution-path-constraints\n\n**Why this matters:** Understanding evolution constraints prevents future architectural surprises and ensures DashText can plan for long-term maintenance and potential migrations.\n\n**Key Analysis Points:**\n- What becomes hard to change after sync engine commitment (data model, API patterns, operational requirements)\n- What becomes hard to change after CRDT stack commitment (storage model, operational complexity, editor integration)\n- What becomes hard to change after hand-rolled commitment (custom maintenance, bespoke code ownership)\n- Migration possibilities and their costs/rewards\n- Long-term operational constraints and scaling considerations\n\n**Success Criteria:** Clear understanding of long-term architectural implications and documented evolution path constraints for the chosen approach.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T10:50:14.788070963-06:00","updated_at":"2025-12-15T10:50:14.788070963-06:00","dependencies":[{"issue_id":"dashtext-si3","depends_on_id":"dashtext-6d0","type":"parent-child","created_at":"2025-12-15T10:50:26.00742775-06:00","created_by":"daemon"},{"issue_id":"dashtext-si3","depends_on_id":"dashtext-bs6","type":"parent-child","created_at":"2025-12-15T10:50:26.022169368-06:00","created_by":"daemon"}]}
{"id":"dashtext-t9v","title":"Epic 4.2 — Built-in Action Types (MVP Actions)","description":"Implement the essential built-in action types that cover the most common outbound use cases: URL opening, clipboard operations, file operations, HTTP requests, and sharing. These form the MVP action set that makes DashText useful for daily workflows.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:36:51.868542055-06:00","updated_at":"2025-12-15T09:36:56.096304609-06:00","dependencies":[{"issue_id":"dashtext-t9v","depends_on_id":"dashtext-ht6","type":"parent-child","created_at":"2025-12-15T09:37:01.955086585-06:00","created_by":"daemon"}]}
{"id":"dashtext-uil","title":"Add Replace draft with HTTP response action","description":"Create an action that replaces the current draft content with the response from an HTTP request. This includes response content parsing, draft replacement logic, backup/undo capability, and content validation. Useful for API responses, content generation, and data retrieval workflows.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:33.57308689-06:00","updated_at":"2025-12-15T09:37:51.400343309-06:00","dependencies":[{"issue_id":"dashtext-uil","depends_on_id":"dashtext-t9v","type":"parent-child","created_at":"2025-12-15T09:38:27.431707731-06:00","created_by":"daemon"}]}
{"id":"dashtext-uvl","title":"Implement action runner abstraction system","description":"Create an abstract action runner system that can execute different types of actions through a unified interface. This includes defining action runner interfaces, implementing a registry pattern for different action types, and creating execution context with draft data and error boundaries. The system must be extensible for new action types while maintaining consistent behavior.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:05.757937569-06:00","updated_at":"2025-12-15T09:37:22.290321163-06:00","dependencies":[{"issue_id":"dashtext-uvl","depends_on_id":"dashtext-rby","type":"parent-child","created_at":"2025-12-15T09:38:23.591988714-06:00","created_by":"daemon"}]}
{"id":"dashtext-uyl","title":"Add generate/revoke API tokens functionality","description":"Add generate/revoke API tokens functionality in settings UI. Create secure token generation interface, display tokens with copy-to-clipboard, provide revoke confirmation, and show token usage summary. This enables users to manage API access without external tools. Non-goal: don't build full user management system. Acceptance criteria: tokens can be generated in UI, tokens revocable with confirmation, copy-to-clipboard works, token list shows usage.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:24:22.175519581-06:00","updated_at":"2025-12-15T09:24:22.175519581-06:00","dependencies":[{"issue_id":"dashtext-uyl","depends_on_id":"dashtext-13h","type":"parent-child","created_at":"2025-12-15T09:24:38.464687363-06:00","created_by":"daemon"}]}
{"id":"dashtext-vch","title":"Choose sync design commitment with evolution path","description":"**Strategic Context:** Make the final architectural decision between Design A (LWW), Design B (optimistic concurrency), or Design C (CRDT) for DashText sync.\n\n**Reference Material:** See Phase 5 Sync Strategy Gist - Section 6.3: Decision Process for DashText\n**Link:** https://gist.github.com/joshuadavidthomas/bc0106ceb748b326d890b55d802d89cd#63-decision-process-for-dashtext\n\n**Why this matters:** This is the foundational architectural commitment that determines all subsequent implementation decisions. Making this choice consciously ensures DashText understands the long-term implications.\n\n**Key Analysis Points:**\n- Usage pattern analysis results from Design A/B/C evaluation\n- Complexity budget assessment for DashText development resources\n- Evolution strategy requirements (real-time collaboration, automatic merging)\n- Anchor dependency framework application to the design choices\n- Document rationale for chosen approach and rejected alternatives\n- Define migration path possibilities and constraints\n\n**Success Criteria:** Conscious architectural decision with clear rationale, documented evolution constraints, and understanding of long-term implications.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T10:49:20.136981443-06:00","updated_at":"2025-12-15T10:49:20.136981443-06:00","dependencies":[{"issue_id":"dashtext-vch","depends_on_id":"dashtext-6d0","type":"parent-child","created_at":"2025-12-15T10:49:40.514108103-06:00","created_by":"daemon"},{"issue_id":"dashtext-vch","depends_on_id":"dashtext-qnh","type":"parent-child","created_at":"2025-12-15T10:49:40.534789647-06:00","created_by":"daemon"}]}
{"id":"dashtext-wed","title":"Phase 2 — Capture API (Universal Sink)","description":"Capture API - Make DashText a universal sink where anything can send text. This phase enables automation without building integrations, focusing on write-only API, token-based authentication, and API-first ingestion UX. Goal: DashText becomes a place anything can send text, enabling automation without becoming a platform. Non-goals: no read API, no webhooks out, no user automation UI. This is the most important structural phase because capture comes before processing and APIs are boring, stable, and write-first.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:23:30.065435148-06:00","updated_at":"2025-12-15T09:23:35.077932144-06:00"}
{"id":"dashtext-xsw","title":"Create outbox table","description":"**Context:** Create outbox table for client-side change queue. Every local mutation produces an outbox entry that gets pushed to server during sync.\n\n**Reference:** history/sync-implementation-spec.md Section 5 (Local Storage)\n\n**Table Structure:**\n- `id` (text/uuid, primary key)\n- `note_id` (text/uuid, foreign key to drafts)\n- `op` (text, 'upsert' or 'delete')\n- `base_rev` (integer, the last known server rev at time of edit)\n- `title` (text, nullable)\n- `content` (text)\n- `deleted` (boolean)\n- `created_at` (integer, unix timestamp)\n\n**Implementation:**\n1. Create Drizzle migration for outbox table\n2. Add schema definition to schema.ts\n3. Export outbox table type\n\n**Acceptance Criteria:**\n- Outbox table created with all required fields\n- Index on note_id for efficient queries\n- Schema exports outbox type","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-15T22:46:07.838601835-06:00","updated_at":"2025-12-15T22:46:07.838601835-06:00","dependencies":[{"issue_id":"dashtext-xsw","depends_on_id":"dashtext-3oy","type":"blocks","created_at":"2025-12-15T22:46:23.95858892-06:00","created_by":"daemon"}]}
{"id":"dashtext-y4a","title":"Add manual sync trigger","description":"**Strategic Context:** Add manual sync trigger button that calls the sync loop on-demand.\n\n**Reference:** history/sync-implementation-spec.md Section 9 (Sync Loop)\n\n**Why this matters:** Manual sync gives users control over when sync happens. Important for capture-first workflow where automatic sync shouldn't interrupt.\n\n**Implementation:**\n- Sync button in UI (settings or status bar)\n- Triggers sync loop immediately (push outbox, pull updates)\n- Shows feedback during sync operation\n- Respects offline state (disabled when offline)\n\n**Dependencies:** Requires M1 (working sync loop)\n\n**Success Criteria:**\n- Sync button triggers push/pull cycle immediately\n- Clear feedback during sync operation\n- Button disabled when offline or already syncing\n- Integrates with sync status indicator","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:44:11.757770036-06:00","updated_at":"2025-12-15T22:45:35.616116768-06:00","dependencies":[{"issue_id":"dashtext-y4a","depends_on_id":"dashtext-9tg","type":"parent-child","created_at":"2025-12-15T09:45:06.46643286-06:00","created_by":"daemon"},{"issue_id":"dashtext-y4a","depends_on_id":"dashtext-7af","type":"blocks","created_at":"2025-12-15T22:45:36.115781522-06:00","created_by":"daemon"}]}
{"id":"dashtext-ykh","title":"Epic 5.1 — Sync Strategy Definition","description":"**Strategic Context:** Define sync architecture before implementation. Strategy first prevents costly rewrites and ensures simple, reliable sync that doesn't undermine capture focus.\n\n**Why this matters:** Clear assumptions and conflict strategy guide all implementation decisions. Single-writer bias and duplicate-on-conflict approach keep sync simple and safe.\n\n**Components:** Document assumptions, conflict strategy, server authority decision","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-15T09:43:30.418702014-06:00","updated_at":"2025-12-15T10:51:08.890344551-06:00","closed_at":"2025-12-15T10:51:08.890344551-06:00","dependencies":[{"issue_id":"dashtext-ykh","depends_on_id":"dashtext-6d0","type":"parent-child","created_at":"2025-12-15T09:44:39.742032886-06:00","created_by":"daemon"}]}
{"id":"dashtext-zby","title":"Add Copy to clipboard action","description":"Create an action that copies draft content (or template-substituted content) to the system clipboard. This includes clipboard API integration, content formatting options, success feedback, and cross-platform compatibility (Windows, macOS, Linux). Essential for quickly moving text to other applications.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T09:37:33.450343812-06:00","updated_at":"2025-12-15T09:37:41.036037736-06:00","dependencies":[{"issue_id":"dashtext-zby","depends_on_id":"dashtext-t9v","type":"parent-child","created_at":"2025-12-15T09:38:27.328755435-06:00","created_by":"daemon"}]}
